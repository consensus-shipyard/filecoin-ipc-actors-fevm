{"abi":[{"type":"function","name":"DIAMOND_STORAGE_POSITION","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"event","name":"DiamondCut","inputs":[{"name":"_diamondCut","type":"tuple[]","indexed":false,"internalType":"struct IDiamond.FacetCut[]","components":[{"name":"facetAddress","type":"address","internalType":"address"},{"name":"action","type":"uint8","internalType":"enum IDiamond.FacetCutAction"},{"name":"functionSelectors","type":"bytes4[]","internalType":"bytes4[]"}]},{"name":"_init","type":"address","indexed":false,"internalType":"address"},{"name":"_calldata","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false},{"type":"error","name":"CannotAddFunctionToDiamondThatAlreadyExists","inputs":[{"name":"_selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"CannotAddSelectorsToZeroAddress","inputs":[{"name":"_selectors","type":"bytes4[]","internalType":"bytes4[]"}]},{"type":"error","name":"CannotRemoveFunctionThatDoesNotExist","inputs":[{"name":"_selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"CannotRemoveImmutableFunction","inputs":[{"name":"_selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"CannotReplaceFunctionThatDoesNotExists","inputs":[{"name":"_selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet","inputs":[{"name":"_selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"CannotReplaceFunctionsFromFacetWithZeroAddress","inputs":[{"name":"_selectors","type":"bytes4[]","internalType":"bytes4[]"}]},{"type":"error","name":"CannotReplaceImmutableFunction","inputs":[{"name":"_selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"IncorrectFacetCutAction","inputs":[{"name":"_action","type":"uint8","internalType":"enum IDiamond.FacetCutAction"}]},{"type":"error","name":"InitializationFunctionReverted","inputs":[{"name":"_initializationContractAddress","type":"address","internalType":"address"},{"name":"_calldata","type":"bytes","internalType":"bytes"}]},{"type":"error","name":"NoBytecodeAtAddress","inputs":[{"name":"_contractAddress","type":"address","internalType":"address"},{"name":"_message","type":"string","internalType":"string"}]},{"type":"error","name":"NoSelectorsGivenToAdd","inputs":[]},{"type":"error","name":"NoSelectorsProvidedForFacetForCut","inputs":[{"name":"_facetAddress","type":"address","internalType":"address"}]},{"type":"error","name":"NotContractOwner","inputs":[{"name":"_user","type":"address","internalType":"address"},{"name":"_contractOwner","type":"address","internalType":"address"}]},{"type":"error","name":"NotOwner","inputs":[]},{"type":"error","name":"RemoveFacetAddressMustBeZeroAddress","inputs":[{"name":"_facetAddress","type":"address","internalType":"address"}]}],"bytecode":{"object":"0x60a6610038600b82828239805160001a607314602b57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe730000000000000000000000000000000000000000301460806040526004361060335760003560e01c8063b2bebf55146038575b600080fd5b605e7f806e0cbb9fce296bbc336a48f42bf1dbc69722d18d90d6fe705b7582c2bb4bd281565b60405190815260200160405180910390f3fea2646970667358221220818aee39a5d3939bcf9190c391ad2dab915a061117996d7b0f46706a335c63bd64736f6c63430008160033","sourceMap":"184:9223:51:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;184:9223:51;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x730000000000000000000000000000000000000000301460806040526004361060335760003560e01c8063b2bebf55146038575b600080fd5b605e7f806e0cbb9fce296bbc336a48f42bf1dbc69722d18d90d6fe705b7582c2bb4bd281565b60405190815260200160405180910390f3fea2646970667358221220818aee39a5d3939bcf9190c391ad2dab915a061117996d7b0f46706a335c63bd64736f6c63430008160033","sourceMap":"184:9223:51:-:0;;;;;;;;;;;;;;;;;;;;;;;;209:94;;260:43;209:94;;;;;168:25:91;;;156:2;141:18;209:94:51;;;;;;","linkReferences":{}},"methodIdentifiers":{"DIAMOND_STORAGE_POSITION()":"b2bebf55"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.22+commit.4fc1097e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_selector\",\"type\":\"bytes4\"}],\"name\":\"CannotAddFunctionToDiamondThatAlreadyExists\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4[]\",\"name\":\"_selectors\",\"type\":\"bytes4[]\"}],\"name\":\"CannotAddSelectorsToZeroAddress\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_selector\",\"type\":\"bytes4\"}],\"name\":\"CannotRemoveFunctionThatDoesNotExist\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_selector\",\"type\":\"bytes4\"}],\"name\":\"CannotRemoveImmutableFunction\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_selector\",\"type\":\"bytes4\"}],\"name\":\"CannotReplaceFunctionThatDoesNotExists\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_selector\",\"type\":\"bytes4\"}],\"name\":\"CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4[]\",\"name\":\"_selectors\",\"type\":\"bytes4[]\"}],\"name\":\"CannotReplaceFunctionsFromFacetWithZeroAddress\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_selector\",\"type\":\"bytes4\"}],\"name\":\"CannotReplaceImmutableFunction\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"enum IDiamond.FacetCutAction\",\"name\":\"_action\",\"type\":\"uint8\"}],\"name\":\"IncorrectFacetCutAction\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_initializationContractAddress\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"_calldata\",\"type\":\"bytes\"}],\"name\":\"InitializationFunctionReverted\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_contractAddress\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"_message\",\"type\":\"string\"}],\"name\":\"NoBytecodeAtAddress\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NoSelectorsGivenToAdd\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_facetAddress\",\"type\":\"address\"}],\"name\":\"NoSelectorsProvidedForFacetForCut\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_contractOwner\",\"type\":\"address\"}],\"name\":\"NotContractOwner\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_facetAddress\",\"type\":\"address\"}],\"name\":\"RemoveFacetAddressMustBeZeroAddress\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"facetAddress\",\"type\":\"address\"},{\"internalType\":\"enum IDiamond.FacetCutAction\",\"name\":\"action\",\"type\":\"uint8\"},{\"internalType\":\"bytes4[]\",\"name\":\"functionSelectors\",\"type\":\"bytes4[]\"}],\"indexed\":false,\"internalType\":\"struct IDiamond.FacetCut[]\",\"name\":\"_diamondCut\",\"type\":\"tuple[]\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"_init\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"_calldata\",\"type\":\"bytes\"}],\"name\":\"DiamondCut\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"DIAMOND_STORAGE_POSITION\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/lib/LibDiamond.sol\":\"LibDiamond\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=node_modules/@openzeppelin/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":elliptic-curve-solidity/=lib/elliptic-curve-solidity/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":fevmate/=lib/fevmate/contracts/\",\":forge-std/=lib/forge-std/src/\",\":hardhat-deploy/=node_modules/hardhat-deploy/\",\":hardhat/=node_modules/hardhat/\",\":murky/=lib/murky/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/contracts/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\"]},\"sources\":{\"src/interfaces/IDiamond.sol\":{\"keccak256\":\"0xc0e862528c3c0f3a6d31510c10eb1fbf48f42e3e71cd91865d940e119dc06bff\",\"license\":\"MIT OR Apache-2.0\",\"urls\":[\"bzz-raw://5a9194ae57bcfcd13f73ad8913b347ebf9ae309224a527ad6a0cb2cb11519245\",\"dweb:/ipfs/QmQf3P7kDwMPaq5VH2PMJKjg73e8UQiQZryxWXNim5dqUL\"]},\"src/interfaces/IDiamondCut.sol\":{\"keccak256\":\"0x10eeb4e75a4e84e21a03722ee030706bf957ccb40ffec9f6605d62489d81fb7d\",\"license\":\"MIT OR Apache-2.0\",\"urls\":[\"bzz-raw://f015f78c3cd3158e3c0fe16959c12e97902f64a2ed2b084e586d3ae711561426\",\"dweb:/ipfs/QmQaQqFA5j7pTnUbapcCmT3hsW4eo7hsoGZCLQBARd5Z7U\"]},\"src/lib/LibDiamond.sol\":{\"keccak256\":\"0x20a447567471391d2791245f22d64584f946a0a010c062acef6c7cf44a96cb64\",\"license\":\"MIT OR Apache-2.0\",\"urls\":[\"bzz-raw://b855e9c1e2ee54b8b04667b0d63ca851e148f105c9f96df0e0e636e6fe1d7e56\",\"dweb:/ipfs/QmNRuWbuFjhkK3H3VvEB8UYapyv8ZdqpHh4tncYKkaUABh\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.22+commit.4fc1097e"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"bytes4","name":"_selector","type":"bytes4"}],"type":"error","name":"CannotAddFunctionToDiamondThatAlreadyExists"},{"inputs":[{"internalType":"bytes4[]","name":"_selectors","type":"bytes4[]"}],"type":"error","name":"CannotAddSelectorsToZeroAddress"},{"inputs":[{"internalType":"bytes4","name":"_selector","type":"bytes4"}],"type":"error","name":"CannotRemoveFunctionThatDoesNotExist"},{"inputs":[{"internalType":"bytes4","name":"_selector","type":"bytes4"}],"type":"error","name":"CannotRemoveImmutableFunction"},{"inputs":[{"internalType":"bytes4","name":"_selector","type":"bytes4"}],"type":"error","name":"CannotReplaceFunctionThatDoesNotExists"},{"inputs":[{"internalType":"bytes4","name":"_selector","type":"bytes4"}],"type":"error","name":"CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet"},{"inputs":[{"internalType":"bytes4[]","name":"_selectors","type":"bytes4[]"}],"type":"error","name":"CannotReplaceFunctionsFromFacetWithZeroAddress"},{"inputs":[{"internalType":"bytes4","name":"_selector","type":"bytes4"}],"type":"error","name":"CannotReplaceImmutableFunction"},{"inputs":[{"internalType":"enum IDiamond.FacetCutAction","name":"_action","type":"uint8"}],"type":"error","name":"IncorrectFacetCutAction"},{"inputs":[{"internalType":"address","name":"_initializationContractAddress","type":"address"},{"internalType":"bytes","name":"_calldata","type":"bytes"}],"type":"error","name":"InitializationFunctionReverted"},{"inputs":[{"internalType":"address","name":"_contractAddress","type":"address"},{"internalType":"string","name":"_message","type":"string"}],"type":"error","name":"NoBytecodeAtAddress"},{"inputs":[],"type":"error","name":"NoSelectorsGivenToAdd"},{"inputs":[{"internalType":"address","name":"_facetAddress","type":"address"}],"type":"error","name":"NoSelectorsProvidedForFacetForCut"},{"inputs":[{"internalType":"address","name":"_user","type":"address"},{"internalType":"address","name":"_contractOwner","type":"address"}],"type":"error","name":"NotContractOwner"},{"inputs":[],"type":"error","name":"NotOwner"},{"inputs":[{"internalType":"address","name":"_facetAddress","type":"address"}],"type":"error","name":"RemoveFacetAddressMustBeZeroAddress"},{"inputs":[{"internalType":"struct IDiamond.FacetCut[]","name":"_diamondCut","type":"tuple[]","components":[{"internalType":"address","name":"facetAddress","type":"address"},{"internalType":"enum IDiamond.FacetCutAction","name":"action","type":"uint8"},{"internalType":"bytes4[]","name":"functionSelectors","type":"bytes4[]"}],"indexed":false},{"internalType":"address","name":"_init","type":"address","indexed":false},{"internalType":"bytes","name":"_calldata","type":"bytes","indexed":false}],"type":"event","name":"DiamondCut","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"DIAMOND_STORAGE_POSITION","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@openzeppelin/=node_modules/@openzeppelin/","ds-test/=lib/forge-std/lib/ds-test/src/","elliptic-curve-solidity/=lib/elliptic-curve-solidity/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","fevmate/=lib/fevmate/contracts/","forge-std/=lib/forge-std/src/","hardhat-deploy/=node_modules/hardhat-deploy/","hardhat/=node_modules/hardhat/","murky/=lib/murky/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/contracts/","openzeppelin/=lib/openzeppelin-contracts/contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/lib/LibDiamond.sol":"LibDiamond"},"libraries":{}},"sources":{"src/interfaces/IDiamond.sol":{"keccak256":"0xc0e862528c3c0f3a6d31510c10eb1fbf48f42e3e71cd91865d940e119dc06bff","urls":["bzz-raw://5a9194ae57bcfcd13f73ad8913b347ebf9ae309224a527ad6a0cb2cb11519245","dweb:/ipfs/QmQf3P7kDwMPaq5VH2PMJKjg73e8UQiQZryxWXNim5dqUL"],"license":"MIT OR Apache-2.0"},"src/interfaces/IDiamondCut.sol":{"keccak256":"0x10eeb4e75a4e84e21a03722ee030706bf957ccb40ffec9f6605d62489d81fb7d","urls":["bzz-raw://f015f78c3cd3158e3c0fe16959c12e97902f64a2ed2b084e586d3ae711561426","dweb:/ipfs/QmQaQqFA5j7pTnUbapcCmT3hsW4eo7hsoGZCLQBARd5Z7U"],"license":"MIT OR Apache-2.0"},"src/lib/LibDiamond.sol":{"keccak256":"0x20a447567471391d2791245f22d64584f946a0a010c062acef6c7cf44a96cb64","urls":["bzz-raw://b855e9c1e2ee54b8b04667b0d63ca851e148f105c9f96df0e0e636e6fe1d7e56","dweb:/ipfs/QmNRuWbuFjhkK3H3VvEB8UYapyv8ZdqpHh4tncYKkaUABh"],"license":"MIT OR Apache-2.0"}},"version":1},"ast":{"absolutePath":"src/lib/LibDiamond.sol","id":40021,"exportedSymbols":{"IDiamond":[38499],"IDiamondCut":[38518],"LibDiamond":[40020]},"nodeType":"SourceUnit","src":"46:9362:51","nodes":[{"id":39306,"nodeType":"PragmaDirective","src":"46:23:51","nodes":[],"literals":["solidity","0.8",".22"]},{"id":39308,"nodeType":"ImportDirective","src":"71:58:51","nodes":[],"absolutePath":"src/interfaces/IDiamondCut.sol","file":"../interfaces/IDiamondCut.sol","nameLocation":"-1:-1:-1","scope":40021,"sourceUnit":38519,"symbolAliases":[{"foreign":{"id":39307,"name":"IDiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38518,"src":"79:11:51","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":39310,"nodeType":"ImportDirective","src":"130:52:51","nodes":[],"absolutePath":"src/interfaces/IDiamond.sol","file":"../interfaces/IDiamond.sol","nameLocation":"-1:-1:-1","scope":40021,"sourceUnit":38500,"symbolAliases":[{"foreign":{"id":39309,"name":"IDiamond","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38499,"src":"138:8:51","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":40020,"nodeType":"ContractDefinition","src":"184:9223:51","nodes":[{"id":39315,"nodeType":"VariableDeclaration","src":"209:94:51","nodes":[],"constant":true,"functionSelector":"b2bebf55","mutability":"constant","name":"DIAMOND_STORAGE_POSITION","nameLocation":"233:24:51","scope":40020,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39311,"name":"bytes32","nodeType":"ElementaryTypeName","src":"209:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"arguments":[{"hexValue":"6c69626469616d6f6e642e6c69622e6469616d6f6e642e73746f72616765","id":39313,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"270:32:51","typeDescriptions":{"typeIdentifier":"t_stringliteral_806e0cbb9fce296bbc336a48f42bf1dbc69722d18d90d6fe705b7582c2bb4bd2","typeString":"literal_string \"libdiamond.lib.diamond.storage\""},"value":"libdiamond.lib.diamond.storage"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_806e0cbb9fce296bbc336a48f42bf1dbc69722d18d90d6fe705b7582c2bb4bd2","typeString":"literal_string \"libdiamond.lib.diamond.storage\""}],"id":39312,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"260:9:51","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":39314,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"260:43:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"public"},{"id":39317,"nodeType":"ErrorDefinition","src":"310:17:51","nodes":[],"errorSelector":"30cd7471","name":"NotOwner","nameLocation":"316:8:51","parameters":{"id":39316,"nodeType":"ParameterList","parameters":[],"src":"324:2:51"}},{"id":39323,"nodeType":"ErrorDefinition","src":"332:69:51","nodes":[],"errorSelector":"919834b9","name":"NoBytecodeAtAddress","nameLocation":"338:19:51","parameters":{"id":39322,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39319,"mutability":"mutable","name":"_contractAddress","nameLocation":"366:16:51","nodeType":"VariableDeclaration","scope":39323,"src":"358:24:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39318,"name":"address","nodeType":"ElementaryTypeName","src":"358:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":39321,"mutability":"mutable","name":"_message","nameLocation":"391:8:51","nodeType":"VariableDeclaration","scope":39323,"src":"384:15:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":39320,"name":"string","nodeType":"ElementaryTypeName","src":"384:6:51","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"357:43:51"}},{"id":39328,"nodeType":"ErrorDefinition","src":"406:66:51","nodes":[],"errorSelector":"7fe9a41e","name":"IncorrectFacetCutAction","nameLocation":"412:23:51","parameters":{"id":39327,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39326,"mutability":"mutable","name":"_action","nameLocation":"463:7:51","nodeType":"VariableDeclaration","scope":39328,"src":"436:34:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38479","typeString":"enum IDiamond.FacetCutAction"},"typeName":{"id":39325,"nodeType":"UserDefinedTypeName","pathNode":{"id":39324,"name":"IDiamondCut.FacetCutAction","nameLocations":["436:11:51","448:14:51"],"nodeType":"IdentifierPath","referencedDeclaration":38479,"src":"436:26:51"},"referencedDeclaration":38479,"src":"436:26:51","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38479","typeString":"enum IDiamond.FacetCutAction"}},"visibility":"internal"}],"src":"435:36:51"}},{"id":39332,"nodeType":"ErrorDefinition","src":"477:63:51","nodes":[],"errorSelector":"e767f91f","name":"NoSelectorsProvidedForFacetForCut","nameLocation":"483:33:51","parameters":{"id":39331,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39330,"mutability":"mutable","name":"_facetAddress","nameLocation":"525:13:51","nodeType":"VariableDeclaration","scope":39332,"src":"517:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39329,"name":"address","nodeType":"ElementaryTypeName","src":"517:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"516:23:51"}},{"id":39336,"nodeType":"ErrorDefinition","src":"545:68:51","nodes":[],"errorSelector":"ebbf5d07","name":"CannotAddFunctionToDiamondThatAlreadyExists","nameLocation":"551:43:51","parameters":{"id":39335,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39334,"mutability":"mutable","name":"_selector","nameLocation":"602:9:51","nodeType":"VariableDeclaration","scope":39336,"src":"595:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":39333,"name":"bytes4","nodeType":"ElementaryTypeName","src":"595:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"594:18:51"}},{"id":39341,"nodeType":"ErrorDefinition","src":"618:59:51","nodes":[],"errorSelector":"0ae3681c","name":"CannotAddSelectorsToZeroAddress","nameLocation":"624:31:51","parameters":{"id":39340,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39339,"mutability":"mutable","name":"_selectors","nameLocation":"665:10:51","nodeType":"VariableDeclaration","scope":39341,"src":"656:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":39337,"name":"bytes4","nodeType":"ElementaryTypeName","src":"656:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":39338,"nodeType":"ArrayTypeName","src":"656:8:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"655:21:51"}},{"id":39347,"nodeType":"ErrorDefinition","src":"682:94:51","nodes":[],"errorSelector":"192105d7","name":"InitializationFunctionReverted","nameLocation":"688:30:51","parameters":{"id":39346,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39343,"mutability":"mutable","name":"_initializationContractAddress","nameLocation":"727:30:51","nodeType":"VariableDeclaration","scope":39347,"src":"719:38:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39342,"name":"address","nodeType":"ElementaryTypeName","src":"719:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":39345,"mutability":"mutable","name":"_calldata","nameLocation":"765:9:51","nodeType":"VariableDeclaration","scope":39347,"src":"759:15:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":39344,"name":"bytes","nodeType":"ElementaryTypeName","src":"759:5:51","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"718:57:51"}},{"id":39349,"nodeType":"ErrorDefinition","src":"781:30:51","nodes":[],"errorSelector":"eb6ba048","name":"NoSelectorsGivenToAdd","nameLocation":"787:21:51","parameters":{"id":39348,"nodeType":"ParameterList","parameters":[],"src":"808:2:51"}},{"id":39355,"nodeType":"ErrorDefinition","src":"816:62:51","nodes":[],"errorSelector":"ff4127cb","name":"NotContractOwner","nameLocation":"822:16:51","parameters":{"id":39354,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39351,"mutability":"mutable","name":"_user","nameLocation":"847:5:51","nodeType":"VariableDeclaration","scope":39355,"src":"839:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39350,"name":"address","nodeType":"ElementaryTypeName","src":"839:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":39353,"mutability":"mutable","name":"_contractOwner","nameLocation":"862:14:51","nodeType":"VariableDeclaration","scope":39355,"src":"854:22:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39352,"name":"address","nodeType":"ElementaryTypeName","src":"854:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"838:39:51"}},{"id":39360,"nodeType":"ErrorDefinition","src":"883:74:51","nodes":[],"errorSelector":"cd98a96f","name":"CannotReplaceFunctionsFromFacetWithZeroAddress","nameLocation":"889:46:51","parameters":{"id":39359,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39358,"mutability":"mutable","name":"_selectors","nameLocation":"945:10:51","nodeType":"VariableDeclaration","scope":39360,"src":"936:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":39356,"name":"bytes4","nodeType":"ElementaryTypeName","src":"936:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":39357,"nodeType":"ArrayTypeName","src":"936:8:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"935:21:51"}},{"id":39364,"nodeType":"ErrorDefinition","src":"962:55:51","nodes":[],"errorSelector":"520300da","name":"CannotReplaceImmutableFunction","nameLocation":"968:30:51","parameters":{"id":39363,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39362,"mutability":"mutable","name":"_selector","nameLocation":"1006:9:51","nodeType":"VariableDeclaration","scope":39364,"src":"999:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":39361,"name":"bytes4","nodeType":"ElementaryTypeName","src":"999:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"998:18:51"}},{"id":39368,"nodeType":"ErrorDefinition","src":"1022:81:51","nodes":[],"errorSelector":"358d9d1a","name":"CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet","nameLocation":"1028:56:51","parameters":{"id":39367,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39366,"mutability":"mutable","name":"_selector","nameLocation":"1092:9:51","nodeType":"VariableDeclaration","scope":39368,"src":"1085:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":39365,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1085:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"1084:18:51"}},{"id":39372,"nodeType":"ErrorDefinition","src":"1108:63:51","nodes":[],"errorSelector":"7479f939","name":"CannotReplaceFunctionThatDoesNotExists","nameLocation":"1114:38:51","parameters":{"id":39371,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39370,"mutability":"mutable","name":"_selector","nameLocation":"1160:9:51","nodeType":"VariableDeclaration","scope":39372,"src":"1153:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":39369,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1153:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"1152:18:51"}},{"id":39376,"nodeType":"ErrorDefinition","src":"1176:65:51","nodes":[],"errorSelector":"d091bc81","name":"RemoveFacetAddressMustBeZeroAddress","nameLocation":"1182:35:51","parameters":{"id":39375,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39374,"mutability":"mutable","name":"_facetAddress","nameLocation":"1226:13:51","nodeType":"VariableDeclaration","scope":39376,"src":"1218:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39373,"name":"address","nodeType":"ElementaryTypeName","src":"1218:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1217:23:51"}},{"id":39380,"nodeType":"ErrorDefinition","src":"1246:61:51","nodes":[],"errorSelector":"7a08a22d","name":"CannotRemoveFunctionThatDoesNotExist","nameLocation":"1252:36:51","parameters":{"id":39379,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39378,"mutability":"mutable","name":"_selector","nameLocation":"1296:9:51","nodeType":"VariableDeclaration","scope":39380,"src":"1289:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":39377,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1289:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"1288:18:51"}},{"id":39384,"nodeType":"ErrorDefinition","src":"1312:54:51","nodes":[],"errorSelector":"6fafeb08","name":"CannotRemoveImmutableFunction","nameLocation":"1318:29:51","parameters":{"id":39383,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39382,"mutability":"mutable","name":"_selector","nameLocation":"1355:9:51","nodeType":"VariableDeclaration","scope":39384,"src":"1348:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":39381,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1348:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"1347:18:51"}},{"id":39394,"nodeType":"EventDefinition","src":"1372:85:51","nodes":[],"anonymous":false,"eventSelector":"8faa70878671ccd212d20771b795c50af8fd3ff6cf27f4bde57e5d4de0aeb673","name":"DiamondCut","nameLocation":"1378:10:51","parameters":{"id":39393,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39388,"indexed":false,"mutability":"mutable","name":"_diamondCut","nameLocation":"1412:11:51","nodeType":"VariableDeclaration","scope":39394,"src":"1389:34:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38488_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut[]"},"typeName":{"baseType":{"id":39386,"nodeType":"UserDefinedTypeName","pathNode":{"id":39385,"name":"IDiamondCut.FacetCut","nameLocations":["1389:11:51","1401:8:51"],"nodeType":"IdentifierPath","referencedDeclaration":38488,"src":"1389:20:51"},"referencedDeclaration":38488,"src":"1389:20:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$38488_storage_ptr","typeString":"struct IDiamond.FacetCut"}},"id":39387,"nodeType":"ArrayTypeName","src":"1389:22:51","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38488_storage_$dyn_storage_ptr","typeString":"struct IDiamond.FacetCut[]"}},"visibility":"internal"},{"constant":false,"id":39390,"indexed":false,"mutability":"mutable","name":"_init","nameLocation":"1433:5:51","nodeType":"VariableDeclaration","scope":39394,"src":"1425:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39389,"name":"address","nodeType":"ElementaryTypeName","src":"1425:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":39392,"indexed":false,"mutability":"mutable","name":"_calldata","nameLocation":"1446:9:51","nodeType":"VariableDeclaration","scope":39394,"src":"1440:15:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":39391,"name":"bytes","nodeType":"ElementaryTypeName","src":"1440:5:51","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1388:68:51"}},{"id":39399,"nodeType":"StructDefinition","src":"1463:109:51","nodes":[],"canonicalName":"LibDiamond.FacetAddressAndSelectorPosition","members":[{"constant":false,"id":39396,"mutability":"mutable","name":"facetAddress","nameLocation":"1520:12:51","nodeType":"VariableDeclaration","scope":39399,"src":"1512:20:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39395,"name":"address","nodeType":"ElementaryTypeName","src":"1512:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":39398,"mutability":"mutable","name":"selectorPosition","nameLocation":"1549:16:51","nodeType":"VariableDeclaration","scope":39399,"src":"1542:23:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":39397,"name":"uint16","nodeType":"ElementaryTypeName","src":"1542:6:51","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"name":"FacetAddressAndSelectorPosition","nameLocation":"1470:31:51","scope":40020,"visibility":"public"},{"id":39414,"nodeType":"StructDefinition","src":"1578:353:51","nodes":[],"canonicalName":"LibDiamond.DiamondStorage","members":[{"constant":false,"id":39404,"mutability":"mutable","name":"facetAddressAndSelectorPosition","nameLocation":"1748:31:51","nodeType":"VariableDeclaration","scope":39414,"src":"1697:82:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$39399_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition)"},"typeName":{"id":39403,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":39400,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1705:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Mapping","src":"1697:50:51","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$39399_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":39402,"nodeType":"UserDefinedTypeName","pathNode":{"id":39401,"name":"FacetAddressAndSelectorPosition","nameLocations":["1715:31:51"],"nodeType":"IdentifierPath","referencedDeclaration":39399,"src":"1715:31:51"},"referencedDeclaration":39399,"src":"1715:31:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39399_storage_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition"}}},"visibility":"internal"},{"constant":false,"id":39407,"mutability":"mutable","name":"selectors","nameLocation":"1798:9:51","nodeType":"VariableDeclaration","scope":39414,"src":"1789:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":39405,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1789:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":39406,"nodeType":"ArrayTypeName","src":"1789:8:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"},{"constant":false,"id":39411,"mutability":"mutable","name":"supportedInterfaces","nameLocation":"1841:19:51","nodeType":"VariableDeclaration","scope":39414,"src":"1817:43:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_bool_$","typeString":"mapping(bytes4 => bool)"},"typeName":{"id":39410,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":39408,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1825:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Mapping","src":"1817:23:51","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_bool_$","typeString":"mapping(bytes4 => bool)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":39409,"name":"bool","nodeType":"ElementaryTypeName","src":"1835:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"visibility":"internal"},{"constant":false,"id":39413,"mutability":"mutable","name":"contractOwner","nameLocation":"1911:13:51","nodeType":"VariableDeclaration","scope":39414,"src":"1903:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39412,"name":"address","nodeType":"ElementaryTypeName","src":"1903:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"name":"DiamondStorage","nameLocation":"1585:14:51","scope":40020,"visibility":"public"},{"id":39426,"nodeType":"FunctionDefinition","src":"1937:197:51","nodes":[],"body":{"id":39425,"nodeType":"Block","src":"2013:121:51","nodes":[],"statements":[{"assignments":[39421],"declarations":[{"constant":false,"id":39421,"mutability":"mutable","name":"position","nameLocation":"2031:8:51","nodeType":"VariableDeclaration","scope":39425,"src":"2023:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39420,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2023:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":39423,"initialValue":{"id":39422,"name":"DIAMOND_STORAGE_POSITION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39315,"src":"2042:24:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"2023:43:51"},{"AST":{"nativeSrc":"2085:43:51","nodeType":"YulBlock","src":"2085:43:51","statements":[{"nativeSrc":"2099:19:51","nodeType":"YulAssignment","src":"2099:19:51","value":{"name":"position","nativeSrc":"2110:8:51","nodeType":"YulIdentifier","src":"2110:8:51"},"variableNames":[{"name":"ds.slot","nativeSrc":"2099:7:51","nodeType":"YulIdentifier","src":"2099:7:51"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":39418,"isOffset":false,"isSlot":true,"src":"2099:7:51","suffix":"slot","valueSize":1},{"declaration":39421,"isOffset":false,"isSlot":false,"src":"2110:8:51","valueSize":1}],"id":39424,"nodeType":"InlineAssembly","src":"2076:52:51"}]},"implemented":true,"kind":"function","modifiers":[],"name":"diamondStorage","nameLocation":"1946:14:51","parameters":{"id":39415,"nodeType":"ParameterList","parameters":[],"src":"1960:2:51"},"returnParameters":{"id":39419,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39418,"mutability":"mutable","name":"ds","nameLocation":"2009:2:51","nodeType":"VariableDeclaration","scope":39426,"src":"1986:25:51","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":39417,"nodeType":"UserDefinedTypeName","pathNode":{"id":39416,"name":"DiamondStorage","nameLocations":["1986:14:51"],"nodeType":"IdentifierPath","referencedDeclaration":39414,"src":"1986:14:51"},"referencedDeclaration":39414,"src":"1986:14:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"src":"1985:27:51"},"scope":40020,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":39444,"nodeType":"FunctionDefinition","src":"2140:153:51","nodes":[],"body":{"id":39443,"nodeType":"Block","src":"2194:99:51","nodes":[],"statements":[{"assignments":[39433],"declarations":[{"constant":false,"id":39433,"mutability":"mutable","name":"ds","nameLocation":"2227:2:51","nodeType":"VariableDeclaration","scope":39443,"src":"2204:25:51","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":39432,"nodeType":"UserDefinedTypeName","pathNode":{"id":39431,"name":"DiamondStorage","nameLocations":["2204:14:51"],"nodeType":"IdentifierPath","referencedDeclaration":39414,"src":"2204:14:51"},"referencedDeclaration":39414,"src":"2204:14:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":39436,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":39434,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39426,"src":"2232:14:51","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$39414_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":39435,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2232:16:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"2204:44:51"},{"expression":{"id":39441,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":39437,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39433,"src":"2258:2:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39439,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2261:13:51","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":39413,"src":"2258:16:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":39440,"name":"_newOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39428,"src":"2277:9:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2258:28:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":39442,"nodeType":"ExpressionStatement","src":"2258:28:51"}]},"implemented":true,"kind":"function","modifiers":[],"name":"setContractOwner","nameLocation":"2149:16:51","parameters":{"id":39429,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39428,"mutability":"mutable","name":"_newOwner","nameLocation":"2174:9:51","nodeType":"VariableDeclaration","scope":39444,"src":"2166:17:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39427,"name":"address","nodeType":"ElementaryTypeName","src":"2166:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2165:19:51"},"returnParameters":{"id":39430,"nodeType":"ParameterList","parameters":[],"src":"2194:0:51"},"scope":40020,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":39456,"nodeType":"FunctionDefinition","src":"2299:136:51","nodes":[],"body":{"id":39455,"nodeType":"Block","src":"2371:64:51","nodes":[],"statements":[{"expression":{"id":39453,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":39449,"name":"contractOwner_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39447,"src":"2381:14:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":39450,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39426,"src":"2398:14:51","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$39414_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":39451,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2398:16:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39452,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2415:13:51","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":39413,"src":"2398:30:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2381:47:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":39454,"nodeType":"ExpressionStatement","src":"2381:47:51"}]},"implemented":true,"kind":"function","modifiers":[],"name":"contractOwner","nameLocation":"2308:13:51","parameters":{"id":39445,"nodeType":"ParameterList","parameters":[],"src":"2321:2:51"},"returnParameters":{"id":39448,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39447,"mutability":"mutable","name":"contractOwner_","nameLocation":"2355:14:51","nodeType":"VariableDeclaration","scope":39456,"src":"2347:22:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39446,"name":"address","nodeType":"ElementaryTypeName","src":"2347:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2346:24:51"},"scope":40020,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":39471,"nodeType":"ModifierDefinition","src":"2441:140:51","nodes":[],"body":{"id":39470,"nodeType":"Block","src":"2462:119:51","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":39463,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":39458,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2476:3:51","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":39459,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2480:6:51","memberName":"sender","nodeType":"MemberAccess","src":"2476:10:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":39460,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39426,"src":"2490:14:51","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$39414_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":39461,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2490:16:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39462,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2507:13:51","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":39413,"src":"2490:30:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2476:44:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39468,"nodeType":"IfStatement","src":"2472:92:51","trueBody":{"id":39467,"nodeType":"Block","src":"2522:42:51","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":39464,"name":"NotOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39317,"src":"2543:8:51","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":39465,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2543:10:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39466,"nodeType":"RevertStatement","src":"2536:17:51"}]}},{"id":39469,"nodeType":"PlaceholderStatement","src":"2573:1:51"}]},"name":"onlyOwner","nameLocation":"2450:9:51","parameters":{"id":39457,"nodeType":"ParameterList","parameters":[],"src":"2459:2:51"},"virtual":false,"visibility":"internal"},{"id":39486,"nodeType":"FunctionDefinition","src":"2587:156:51","nodes":[],"body":{"id":39485,"nodeType":"Block","src":"2635:108:51","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":39479,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":39474,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2649:3:51","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":39475,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2653:6:51","memberName":"sender","nodeType":"MemberAccess","src":"2649:10:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":39476,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39426,"src":"2663:14:51","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$39414_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":39477,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2663:16:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39478,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2680:13:51","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":39413,"src":"2663:30:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2649:44:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39484,"nodeType":"IfStatement","src":"2645:92:51","trueBody":{"id":39483,"nodeType":"Block","src":"2695:42:51","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":39480,"name":"NotOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39317,"src":"2716:8:51","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":39481,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2716:10:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39482,"nodeType":"RevertStatement","src":"2709:17:51"}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"enforceIsContractOwner","nameLocation":"2596:22:51","parameters":{"id":39472,"nodeType":"ParameterList","parameters":[],"src":"2618:2:51"},"returnParameters":{"id":39473,"nodeType":"ParameterList","parameters":[],"src":"2635:0:51"},"scope":40020,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":39603,"nodeType":"FunctionDefinition","src":"2749:1236:51","nodes":[],"body":{"id":39602,"nodeType":"Block","src":"2857:1128:51","nodes":[],"statements":[{"assignments":[39498],"declarations":[{"constant":false,"id":39498,"mutability":"mutable","name":"length","nameLocation":"2875:6:51","nodeType":"VariableDeclaration","scope":39602,"src":"2867:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39497,"name":"uint256","nodeType":"ElementaryTypeName","src":"2867:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":39501,"initialValue":{"expression":{"id":39499,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39490,"src":"2884:11:51","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38488_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut memory[] memory"}},"id":39500,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2896:6:51","memberName":"length","nodeType":"MemberAccess","src":"2884:18:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2867:35:51"},{"body":{"id":39589,"nodeType":"Block","src":"2973:869:51","statements":[{"assignments":[39515],"declarations":[{"constant":false,"id":39515,"mutability":"mutable","name":"functionSelectors","nameLocation":"3003:17:51","nodeType":"VariableDeclaration","scope":39589,"src":"2987:33:51","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":39513,"name":"bytes4","nodeType":"ElementaryTypeName","src":"2987:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":39514,"nodeType":"ArrayTypeName","src":"2987:8:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"id":39520,"initialValue":{"expression":{"baseExpression":{"id":39516,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39490,"src":"3023:11:51","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38488_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut memory[] memory"}},"id":39518,"indexExpression":{"id":39517,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39503,"src":"3035:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3023:23:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$38488_memory_ptr","typeString":"struct IDiamond.FacetCut memory"}},"id":39519,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3047:17:51","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":38487,"src":"3023:41:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"nodeType":"VariableDeclarationStatement","src":"2987:77:51"},{"assignments":[39522],"declarations":[{"constant":false,"id":39522,"mutability":"mutable","name":"facetAddress","nameLocation":"3086:12:51","nodeType":"VariableDeclaration","scope":39589,"src":"3078:20:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39521,"name":"address","nodeType":"ElementaryTypeName","src":"3078:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":39527,"initialValue":{"expression":{"baseExpression":{"id":39523,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39490,"src":"3101:11:51","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38488_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut memory[] memory"}},"id":39525,"indexExpression":{"id":39524,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39503,"src":"3113:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3101:23:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$38488_memory_ptr","typeString":"struct IDiamond.FacetCut memory"}},"id":39526,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3125:12:51","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":38481,"src":"3101:36:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"3078:59:51"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":39531,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":39528,"name":"functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39515,"src":"3155:17:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":39529,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3173:6:51","memberName":"length","nodeType":"MemberAccess","src":"3155:24:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":39530,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3183:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3155:29:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39537,"nodeType":"IfStatement","src":"3151:122:51","trueBody":{"id":39536,"nodeType":"Block","src":"3186:87:51","statements":[{"errorCall":{"arguments":[{"id":39533,"name":"facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39522,"src":"3245:12:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":39532,"name":"NoSelectorsProvidedForFacetForCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39332,"src":"3211:33:51","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$returns$__$","typeString":"function (address) pure"}},"id":39534,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3211:47:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39535,"nodeType":"RevertStatement","src":"3204:54:51"}]}},{"assignments":[39542],"declarations":[{"constant":false,"id":39542,"mutability":"mutable","name":"action","nameLocation":"3313:6:51","nodeType":"VariableDeclaration","scope":39589,"src":"3286:33:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38479","typeString":"enum IDiamond.FacetCutAction"},"typeName":{"id":39541,"nodeType":"UserDefinedTypeName","pathNode":{"id":39540,"name":"IDiamondCut.FacetCutAction","nameLocations":["3286:11:51","3298:14:51"],"nodeType":"IdentifierPath","referencedDeclaration":38479,"src":"3286:26:51"},"referencedDeclaration":38479,"src":"3286:26:51","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38479","typeString":"enum IDiamond.FacetCutAction"}},"visibility":"internal"}],"id":39547,"initialValue":{"expression":{"baseExpression":{"id":39543,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39490,"src":"3322:11:51","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38488_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut memory[] memory"}},"id":39545,"indexExpression":{"id":39544,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39503,"src":"3334:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3322:23:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$38488_memory_ptr","typeString":"struct IDiamond.FacetCut memory"}},"id":39546,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3346:6:51","memberName":"action","nodeType":"MemberAccess","referencedDeclaration":38484,"src":"3322:30:51","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38479","typeString":"enum IDiamond.FacetCutAction"}},"nodeType":"VariableDeclarationStatement","src":"3286:66:51"},{"condition":{"commonType":{"typeIdentifier":"t_enum$_FacetCutAction_$38479","typeString":"enum IDiamond.FacetCutAction"},"id":39552,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39548,"name":"action","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39542,"src":"3370:6:51","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38479","typeString":"enum IDiamond.FacetCutAction"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":39549,"name":"IDiamond","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38499,"src":"3380:8:51","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDiamond_$38499_$","typeString":"type(contract IDiamond)"}},"id":39550,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3389:14:51","memberName":"FacetCutAction","nodeType":"MemberAccess","referencedDeclaration":38479,"src":"3380:23:51","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_FacetCutAction_$38479_$","typeString":"type(enum IDiamond.FacetCutAction)"}},"id":39551,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3404:3:51","memberName":"Add","nodeType":"MemberAccess","referencedDeclaration":38476,"src":"3380:27:51","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38479","typeString":"enum IDiamond.FacetCutAction"}},"src":"3370:37:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_FacetCutAction_$38479","typeString":"enum IDiamond.FacetCutAction"},"id":39563,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39559,"name":"action","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39542,"src":"3497:6:51","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38479","typeString":"enum IDiamond.FacetCutAction"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":39560,"name":"IDiamond","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38499,"src":"3507:8:51","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDiamond_$38499_$","typeString":"type(contract IDiamond)"}},"id":39561,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3516:14:51","memberName":"FacetCutAction","nodeType":"MemberAccess","referencedDeclaration":38479,"src":"3507:23:51","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_FacetCutAction_$38479_$","typeString":"type(enum IDiamond.FacetCutAction)"}},"id":39562,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3531:7:51","memberName":"Replace","nodeType":"MemberAccess","referencedDeclaration":38477,"src":"3507:31:51","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38479","typeString":"enum IDiamond.FacetCutAction"}},"src":"3497:41:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_FacetCutAction_$38479","typeString":"enum IDiamond.FacetCutAction"},"id":39574,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39570,"name":"action","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39542,"src":"3632:6:51","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38479","typeString":"enum IDiamond.FacetCutAction"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":39571,"name":"IDiamond","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38499,"src":"3642:8:51","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDiamond_$38499_$","typeString":"type(contract IDiamond)"}},"id":39572,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3651:14:51","memberName":"FacetCutAction","nodeType":"MemberAccess","referencedDeclaration":38479,"src":"3642:23:51","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_FacetCutAction_$38479_$","typeString":"type(enum IDiamond.FacetCutAction)"}},"id":39573,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3666:6:51","memberName":"Remove","nodeType":"MemberAccess","referencedDeclaration":38478,"src":"3642:30:51","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38479","typeString":"enum IDiamond.FacetCutAction"}},"src":"3632:40:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":39585,"nodeType":"Block","src":"3761:71:51","statements":[{"errorCall":{"arguments":[{"id":39582,"name":"action","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39542,"src":"3810:6:51","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38479","typeString":"enum IDiamond.FacetCutAction"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_enum$_FacetCutAction_$38479","typeString":"enum IDiamond.FacetCutAction"}],"id":39581,"name":"IncorrectFacetCutAction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39328,"src":"3786:23:51","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_enum$_FacetCutAction_$38479_$returns$__$","typeString":"function (enum IDiamond.FacetCutAction) pure"}},"id":39583,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3786:31:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39584,"nodeType":"RevertStatement","src":"3779:38:51"}]},"id":39586,"nodeType":"IfStatement","src":"3628:204:51","trueBody":{"id":39580,"nodeType":"Block","src":"3674:81:51","statements":[{"expression":{"arguments":[{"id":39576,"name":"facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39522,"src":"3708:12:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":39577,"name":"functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39515,"src":"3722:17:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":39575,"name":"removeFunctions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39949,"src":"3692:15:51","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (address,bytes4[] memory)"}},"id":39578,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3692:48:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39579,"nodeType":"ExpressionStatement","src":"3692:48:51"}]}},"id":39587,"nodeType":"IfStatement","src":"3493:339:51","trueBody":{"id":39569,"nodeType":"Block","src":"3540:82:51","statements":[{"expression":{"arguments":[{"id":39565,"name":"facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39522,"src":"3575:12:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":39566,"name":"functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39515,"src":"3589:17:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":39564,"name":"replaceFunctions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39812,"src":"3558:16:51","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (address,bytes4[] memory)"}},"id":39567,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3558:49:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39568,"nodeType":"ExpressionStatement","src":"3558:49:51"}]}},"id":39588,"nodeType":"IfStatement","src":"3366:466:51","trueBody":{"id":39558,"nodeType":"Block","src":"3409:78:51","statements":[{"expression":{"arguments":[{"id":39554,"name":"facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39522,"src":"3440:12:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":39555,"name":"functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39515,"src":"3454:17:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":39553,"name":"addFunctions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39708,"src":"3427:12:51","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (address,bytes4[] memory)"}},"id":39556,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3427:45:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39557,"nodeType":"ExpressionStatement","src":"3427:45:51"}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":39507,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39505,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39503,"src":"2937:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":39506,"name":"length","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39498,"src":"2950:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2937:19:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39590,"initializationExpression":{"assignments":[39503],"declarations":[{"constant":false,"id":39503,"mutability":"mutable","name":"facetIndex","nameLocation":"2925:10:51","nodeType":"VariableDeclaration","scope":39590,"src":"2917:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39502,"name":"uint256","nodeType":"ElementaryTypeName","src":"2917:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":39504,"nodeType":"VariableDeclarationStatement","src":"2917:18:51"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":39509,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"2958:12:51","subExpression":{"id":39508,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39503,"src":"2960:10:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":39510,"nodeType":"ExpressionStatement","src":"2958:12:51"},"nodeType":"ForStatement","src":"2912:930:51"},{"eventCall":{"arguments":[{"id":39592,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39490,"src":"3881:11:51","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38488_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut memory[] memory"}},{"id":39593,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39492,"src":"3901:5:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":39594,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39494,"src":"3919:9:51","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38488_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut memory[] memory"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":39591,"name":"DiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39394,"src":"3856:10:51","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_array$_t_struct$_FacetCut_$38488_memory_ptr_$dyn_memory_ptr_$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (struct IDiamond.FacetCut memory[] memory,address,bytes memory)"}},"id":39595,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":["3868:11:51","3894:5:51","3908:9:51"],"names":["_diamondCut","_init","_calldata"],"nodeType":"FunctionCall","src":"3856:74:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39596,"nodeType":"EmitStatement","src":"3851:79:51"},{"expression":{"arguments":[{"id":39598,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39492,"src":"3961:5:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":39599,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39494,"src":"3968:9:51","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":39597,"name":"initializeDiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39997,"src":"3940:20:51","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,bytes memory)"}},"id":39600,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3940:38:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39601,"nodeType":"ExpressionStatement","src":"3940:38:51"}]},"implemented":true,"kind":"function","modifiers":[],"name":"diamondCut","nameLocation":"2758:10:51","parameters":{"id":39495,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39490,"mutability":"mutable","name":"_diamondCut","nameLocation":"2796:11:51","nodeType":"VariableDeclaration","scope":39603,"src":"2769:38:51","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38488_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut[]"},"typeName":{"baseType":{"id":39488,"nodeType":"UserDefinedTypeName","pathNode":{"id":39487,"name":"IDiamond.FacetCut","nameLocations":["2769:8:51","2778:8:51"],"nodeType":"IdentifierPath","referencedDeclaration":38488,"src":"2769:17:51"},"referencedDeclaration":38488,"src":"2769:17:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$38488_storage_ptr","typeString":"struct IDiamond.FacetCut"}},"id":39489,"nodeType":"ArrayTypeName","src":"2769:19:51","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38488_storage_$dyn_storage_ptr","typeString":"struct IDiamond.FacetCut[]"}},"visibility":"internal"},{"constant":false,"id":39492,"mutability":"mutable","name":"_init","nameLocation":"2817:5:51","nodeType":"VariableDeclaration","scope":39603,"src":"2809:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39491,"name":"address","nodeType":"ElementaryTypeName","src":"2809:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":39494,"mutability":"mutable","name":"_calldata","nameLocation":"2837:9:51","nodeType":"VariableDeclaration","scope":39603,"src":"2824:22:51","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":39493,"name":"bytes","nodeType":"ElementaryTypeName","src":"2824:5:51","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"2768:79:51"},"returnParameters":{"id":39496,"nodeType":"ParameterList","parameters":[],"src":"2857:0:51"},"scope":40020,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":39708,"nodeType":"FunctionDefinition","src":"3991:1102:51","nodes":[],"body":{"id":39707,"nodeType":"Block","src":"4081:1012:51","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":39616,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39611,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39605,"src":"4095:13:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":39614,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4120:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":39613,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4112:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":39612,"name":"address","nodeType":"ElementaryTypeName","src":"4112:7:51","typeDescriptions":{}}},"id":39615,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4112:10:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4095:27:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39622,"nodeType":"IfStatement","src":"4091:116:51","trueBody":{"id":39621,"nodeType":"Block","src":"4124:83:51","statements":[{"errorCall":{"arguments":[{"id":39618,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39608,"src":"4177:18:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":39617,"name":"CannotAddSelectorsToZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39341,"src":"4145:31:51","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (bytes4[] memory) pure"}},"id":39619,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4145:51:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39620,"nodeType":"RevertStatement","src":"4138:58:51"}]}},{"assignments":[39625],"declarations":[{"constant":false,"id":39625,"mutability":"mutable","name":"ds","nameLocation":"4239:2:51","nodeType":"VariableDeclaration","scope":39707,"src":"4216:25:51","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":39624,"nodeType":"UserDefinedTypeName","pathNode":{"id":39623,"name":"DiamondStorage","nameLocations":["4216:14:51"],"nodeType":"IdentifierPath","referencedDeclaration":39414,"src":"4216:14:51"},"referencedDeclaration":39414,"src":"4216:14:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":39628,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":39626,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39426,"src":"4244:14:51","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$39414_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":39627,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4244:16:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"4216:44:51"},{"assignments":[39630],"declarations":[{"constant":false,"id":39630,"mutability":"mutable","name":"selectorCount","nameLocation":"4277:13:51","nodeType":"VariableDeclaration","scope":39707,"src":"4270:20:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":39629,"name":"uint16","nodeType":"ElementaryTypeName","src":"4270:6:51","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"id":39637,"initialValue":{"arguments":[{"expression":{"expression":{"id":39633,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39625,"src":"4300:2:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39634,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4303:9:51","memberName":"selectors","nodeType":"MemberAccess","referencedDeclaration":39407,"src":"4300:12:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":39635,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4313:6:51","memberName":"length","nodeType":"MemberAccess","src":"4300:19:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":39632,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4293:6:51","typeDescriptions":{"typeIdentifier":"t_type$_t_uint16_$","typeString":"type(uint16)"},"typeName":{"id":39631,"name":"uint16","nodeType":"ElementaryTypeName","src":"4293:6:51","typeDescriptions":{}}},"id":39636,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4293:27:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"VariableDeclarationStatement","src":"4270:50:51"},{"expression":{"arguments":[{"id":39639,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39605,"src":"4353:13:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"hexValue":"6469616d6f6e644375743a2041646420666163657420686173206e6f20636f6465","id":39640,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4368:35:51","typeDescriptions":{"typeIdentifier":"t_stringliteral_d8d835faff0ba0e4baa5f22169088fa1f85cf7197f0ff5b9c9e823f3d33c8ad7","typeString":"literal_string \"diamondCut: Add facet has no code\""},"value":"diamondCut: Add facet has no code"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_stringliteral_d8d835faff0ba0e4baa5f22169088fa1f85cf7197f0ff5b9c9e823f3d33c8ad7","typeString":"literal_string \"diamondCut: Add facet has no code\""}],"id":39638,"name":"enforceHasContractCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40019,"src":"4330:22:51","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,string memory) view"}},"id":39641,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4330:74:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39642,"nodeType":"ExpressionStatement","src":"4330:74:51"},{"assignments":[39644],"declarations":[{"constant":false,"id":39644,"mutability":"mutable","name":"length","nameLocation":"4422:6:51","nodeType":"VariableDeclaration","scope":39707,"src":"4414:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39643,"name":"uint256","nodeType":"ElementaryTypeName","src":"4414:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":39647,"initialValue":{"expression":{"id":39645,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39608,"src":"4431:18:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":39646,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4450:6:51","memberName":"length","nodeType":"MemberAccess","src":"4431:25:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4414:42:51"},{"body":{"id":39705,"nodeType":"Block","src":"4535:552:51","statements":[{"assignments":[39658],"declarations":[{"constant":false,"id":39658,"mutability":"mutable","name":"selector","nameLocation":"4556:8:51","nodeType":"VariableDeclaration","scope":39705,"src":"4549:15:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":39657,"name":"bytes4","nodeType":"ElementaryTypeName","src":"4549:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":39662,"initialValue":{"baseExpression":{"id":39659,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39608,"src":"4567:18:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":39661,"indexExpression":{"id":39660,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39649,"src":"4586:13:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4567:33:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"4549:51:51"},{"assignments":[39664],"declarations":[{"constant":false,"id":39664,"mutability":"mutable","name":"oldFacetAddress","nameLocation":"4622:15:51","nodeType":"VariableDeclaration","scope":39705,"src":"4614:23:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39663,"name":"address","nodeType":"ElementaryTypeName","src":"4614:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":39670,"initialValue":{"expression":{"baseExpression":{"expression":{"id":39665,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39625,"src":"4640:2:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39666,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4643:31:51","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":39404,"src":"4640:34:51","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$39399_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":39668,"indexExpression":{"id":39667,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39658,"src":"4675:8:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4640:44:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39399_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"id":39669,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4685:12:51","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":39396,"src":"4640:57:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"4614:83:51"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":39676,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39671,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39664,"src":"4715:15:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":39674,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4742:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":39673,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4734:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":39672,"name":"address","nodeType":"ElementaryTypeName","src":"4734:7:51","typeDescriptions":{}}},"id":39675,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4734:10:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4715:29:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39682,"nodeType":"IfStatement","src":"4711:128:51","trueBody":{"id":39681,"nodeType":"Block","src":"4746:93:51","statements":[{"errorCall":{"arguments":[{"id":39678,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39658,"src":"4815:8:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":39677,"name":"CannotAddFunctionToDiamondThatAlreadyExists","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39336,"src":"4771:43:51","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":39679,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4771:53:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39680,"nodeType":"RevertStatement","src":"4764:60:51"}]}},{"expression":{"id":39692,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"id":39683,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39625,"src":"4852:2:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39686,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4855:31:51","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":39404,"src":"4852:34:51","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$39399_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":39687,"indexExpression":{"id":39685,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39658,"src":"4887:8:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4852:44:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39399_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":39689,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39605,"src":"4948:13:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":39690,"name":"selectorCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39630,"src":"4979:13:51","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint16","typeString":"uint16"}],"id":39688,"name":"FacetAddressAndSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39399,"src":"4899:31:51","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_FacetAddressAndSelectorPosition_$39399_storage_ptr_$","typeString":"type(struct LibDiamond.FacetAddressAndSelectorPosition storage pointer)"}},"id":39691,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4899:107:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39399_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition memory"}},"src":"4852:154:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39399_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"id":39693,"nodeType":"ExpressionStatement","src":"4852:154:51"},{"expression":{"arguments":[{"id":39699,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39658,"src":"5038:8:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"expression":{"expression":{"id":39694,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39625,"src":"5020:2:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39697,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5023:9:51","memberName":"selectors","nodeType":"MemberAccess","referencedDeclaration":39407,"src":"5020:12:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":39698,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5033:4:51","memberName":"push","nodeType":"MemberAccess","src":"5020:17:51","typeDescriptions":{"typeIdentifier":"t_function_arraypush_nonpayable$_t_array$_t_bytes4_$dyn_storage_ptr_$_t_bytes4_$returns$__$attached_to$_t_array$_t_bytes4_$dyn_storage_ptr_$","typeString":"function (bytes4[] storage pointer,bytes4)"}},"id":39700,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5020:27:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39701,"nodeType":"ExpressionStatement","src":"5020:27:51"},{"expression":{"id":39703,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"5061:15:51","subExpression":{"id":39702,"name":"selectorCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39630,"src":"5063:13:51","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":39704,"nodeType":"ExpressionStatement","src":"5061:15:51"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":39653,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39651,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39649,"src":"4494:13:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":39652,"name":"length","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39644,"src":"4510:6:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4494:22:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39706,"initializationExpression":{"assignments":[39649],"declarations":[{"constant":false,"id":39649,"mutability":"mutable","name":"selectorIndex","nameLocation":"4479:13:51","nodeType":"VariableDeclaration","scope":39706,"src":"4471:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39648,"name":"uint256","nodeType":"ElementaryTypeName","src":"4471:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":39650,"nodeType":"VariableDeclarationStatement","src":"4471:21:51"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":39655,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"4518:15:51","subExpression":{"id":39654,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39649,"src":"4520:13:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":39656,"nodeType":"ExpressionStatement","src":"4518:15:51"},"nodeType":"ForStatement","src":"4466:621:51"}]},"implemented":true,"kind":"function","modifiers":[],"name":"addFunctions","nameLocation":"4000:12:51","parameters":{"id":39609,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39605,"mutability":"mutable","name":"_facetAddress","nameLocation":"4021:13:51","nodeType":"VariableDeclaration","scope":39708,"src":"4013:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39604,"name":"address","nodeType":"ElementaryTypeName","src":"4013:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":39608,"mutability":"mutable","name":"_functionSelectors","nameLocation":"4052:18:51","nodeType":"VariableDeclaration","scope":39708,"src":"4036:34:51","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":39606,"name":"bytes4","nodeType":"ElementaryTypeName","src":"4036:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":39607,"nodeType":"ArrayTypeName","src":"4036:8:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"4012:59:51"},"returnParameters":{"id":39610,"nodeType":"ParameterList","parameters":[],"src":"4081:0:51"},"scope":40020,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":39812,"nodeType":"FunctionDefinition","src":"5099:1340:51","nodes":[],"body":{"id":39811,"nodeType":"Block","src":"5193:1246:51","nodes":[],"statements":[{"assignments":[39718],"declarations":[{"constant":false,"id":39718,"mutability":"mutable","name":"ds","nameLocation":"5226:2:51","nodeType":"VariableDeclaration","scope":39811,"src":"5203:25:51","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":39717,"nodeType":"UserDefinedTypeName","pathNode":{"id":39716,"name":"DiamondStorage","nameLocations":["5203:14:51"],"nodeType":"IdentifierPath","referencedDeclaration":39414,"src":"5203:14:51"},"referencedDeclaration":39414,"src":"5203:14:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":39721,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":39719,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39426,"src":"5231:14:51","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$39414_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":39720,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5231:16:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"5203:44:51"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":39727,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39722,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39710,"src":"5261:13:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":39725,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5286:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":39724,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5278:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":39723,"name":"address","nodeType":"ElementaryTypeName","src":"5278:7:51","typeDescriptions":{}}},"id":39726,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5278:10:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5261:27:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39733,"nodeType":"IfStatement","src":"5257:131:51","trueBody":{"id":39732,"nodeType":"Block","src":"5290:98:51","statements":[{"errorCall":{"arguments":[{"id":39729,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39713,"src":"5358:18:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":39728,"name":"CannotReplaceFunctionsFromFacetWithZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39360,"src":"5311:46:51","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (bytes4[] memory) pure"}},"id":39730,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5311:66:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39731,"nodeType":"RevertStatement","src":"5304:73:51"}]}},{"expression":{"arguments":[{"id":39735,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39710,"src":"5420:13:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"hexValue":"4c69624469616d6f6e644375743a205265706c61636520666163657420686173206e6f20636f6465","id":39736,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5435:42:51","typeDescriptions":{"typeIdentifier":"t_stringliteral_de246aa8052f872d61bcd9cfb620b8012f8bc6e512400178c0e967944dadacfe","typeString":"literal_string \"LibDiamondCut: Replace facet has no code\""},"value":"LibDiamondCut: Replace facet has no code"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_stringliteral_de246aa8052f872d61bcd9cfb620b8012f8bc6e512400178c0e967944dadacfe","typeString":"literal_string \"LibDiamondCut: Replace facet has no code\""}],"id":39734,"name":"enforceHasContractCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40019,"src":"5397:22:51","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,string memory) view"}},"id":39737,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5397:81:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39738,"nodeType":"ExpressionStatement","src":"5397:81:51"},{"assignments":[39740],"declarations":[{"constant":false,"id":39740,"mutability":"mutable","name":"fl","nameLocation":"5496:2:51","nodeType":"VariableDeclaration","scope":39811,"src":"5488:10:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39739,"name":"uint256","nodeType":"ElementaryTypeName","src":"5488:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":39743,"initialValue":{"expression":{"id":39741,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39713,"src":"5501:18:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":39742,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5520:6:51","memberName":"length","nodeType":"MemberAccess","src":"5501:25:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5488:38:51"},{"body":{"id":39809,"nodeType":"Block","src":"5601:832:51","statements":[{"assignments":[39754],"declarations":[{"constant":false,"id":39754,"mutability":"mutable","name":"selector","nameLocation":"5622:8:51","nodeType":"VariableDeclaration","scope":39809,"src":"5615:15:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":39753,"name":"bytes4","nodeType":"ElementaryTypeName","src":"5615:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":39758,"initialValue":{"baseExpression":{"id":39755,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39713,"src":"5633:18:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":39757,"indexExpression":{"id":39756,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39745,"src":"5652:13:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5633:33:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"5615:51:51"},{"assignments":[39760],"declarations":[{"constant":false,"id":39760,"mutability":"mutable","name":"oldFacetAddress","nameLocation":"5688:15:51","nodeType":"VariableDeclaration","scope":39809,"src":"5680:23:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39759,"name":"address","nodeType":"ElementaryTypeName","src":"5680:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":39766,"initialValue":{"expression":{"baseExpression":{"expression":{"id":39761,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39718,"src":"5706:2:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39762,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5709:31:51","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":39404,"src":"5706:34:51","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$39399_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":39764,"indexExpression":{"id":39763,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39754,"src":"5741:8:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5706:44:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39399_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"id":39765,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5751:12:51","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":39396,"src":"5706:57:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"5680:83:51"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":39772,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39767,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39760,"src":"5888:15:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"id":39770,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"5915:4:51","typeDescriptions":{"typeIdentifier":"t_contract$_LibDiamond_$40020","typeString":"library LibDiamond"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_LibDiamond_$40020","typeString":"library LibDiamond"}],"id":39769,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5907:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":39768,"name":"address","nodeType":"ElementaryTypeName","src":"5907:7:51","typeDescriptions":{}}},"id":39771,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5907:13:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5888:32:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39778,"nodeType":"IfStatement","src":"5884:118:51","trueBody":{"id":39777,"nodeType":"Block","src":"5922:80:51","statements":[{"errorCall":{"arguments":[{"id":39774,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39754,"src":"5978:8:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":39773,"name":"CannotReplaceImmutableFunction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39364,"src":"5947:30:51","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":39775,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5947:40:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39776,"nodeType":"RevertStatement","src":"5940:47:51"}]}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":39781,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39779,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39760,"src":"6019:15:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":39780,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39710,"src":"6038:13:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6019:32:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39787,"nodeType":"IfStatement","src":"6015:144:51","trueBody":{"id":39786,"nodeType":"Block","src":"6053:106:51","statements":[{"errorCall":{"arguments":[{"id":39783,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39754,"src":"6135:8:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":39782,"name":"CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39368,"src":"6078:56:51","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":39784,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6078:66:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39785,"nodeType":"RevertStatement","src":"6071:73:51"}]}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":39793,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39788,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39760,"src":"6176:15:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":39791,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6203:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":39790,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6195:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":39789,"name":"address","nodeType":"ElementaryTypeName","src":"6195:7:51","typeDescriptions":{}}},"id":39792,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6195:10:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6176:29:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39799,"nodeType":"IfStatement","src":"6172:123:51","trueBody":{"id":39798,"nodeType":"Block","src":"6207:88:51","statements":[{"errorCall":{"arguments":[{"id":39795,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39754,"src":"6271:8:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":39794,"name":"CannotReplaceFunctionThatDoesNotExists","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39372,"src":"6232:38:51","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":39796,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6232:48:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39797,"nodeType":"RevertStatement","src":"6225:55:51"}]}},{"expression":{"id":39807,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"expression":{"id":39800,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39718,"src":"6349:2:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39803,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6352:31:51","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":39404,"src":"6349:34:51","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$39399_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":39804,"indexExpression":{"id":39802,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39754,"src":"6384:8:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6349:44:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39399_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"id":39805,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"6394:12:51","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":39396,"src":"6349:57:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":39806,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39710,"src":"6409:13:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6349:73:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":39808,"nodeType":"ExpressionStatement","src":"6349:73:51"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":39749,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39747,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39745,"src":"5564:13:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":39748,"name":"fl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39740,"src":"5580:2:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5564:18:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39810,"initializationExpression":{"assignments":[39745],"declarations":[{"constant":false,"id":39745,"mutability":"mutable","name":"selectorIndex","nameLocation":"5549:13:51","nodeType":"VariableDeclaration","scope":39810,"src":"5541:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39744,"name":"uint256","nodeType":"ElementaryTypeName","src":"5541:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":39746,"nodeType":"VariableDeclarationStatement","src":"5541:21:51"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":39751,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"5583:15:51","subExpression":{"id":39750,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39745,"src":"5585:13:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":39752,"nodeType":"ExpressionStatement","src":"5583:15:51"},"nodeType":"ForStatement","src":"5536:897:51"}]},"implemented":true,"kind":"function","modifiers":[],"name":"replaceFunctions","nameLocation":"5108:16:51","parameters":{"id":39714,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39710,"mutability":"mutable","name":"_facetAddress","nameLocation":"5133:13:51","nodeType":"VariableDeclaration","scope":39812,"src":"5125:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39709,"name":"address","nodeType":"ElementaryTypeName","src":"5125:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":39713,"mutability":"mutable","name":"_functionSelectors","nameLocation":"5164:18:51","nodeType":"VariableDeclaration","scope":39812,"src":"5148:34:51","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":39711,"name":"bytes4","nodeType":"ElementaryTypeName","src":"5148:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":39712,"nodeType":"ArrayTypeName","src":"5148:8:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"5124:59:51"},"returnParameters":{"id":39715,"nodeType":"ParameterList","parameters":[],"src":"5193:0:51"},"scope":40020,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":39949,"nodeType":"FunctionDefinition","src":"6445:1740:51","nodes":[],"body":{"id":39948,"nodeType":"Block","src":"6538:1647:51","nodes":[],"statements":[{"assignments":[39822],"declarations":[{"constant":false,"id":39822,"mutability":"mutable","name":"ds","nameLocation":"6571:2:51","nodeType":"VariableDeclaration","scope":39948,"src":"6548:25:51","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":39821,"nodeType":"UserDefinedTypeName","pathNode":{"id":39820,"name":"DiamondStorage","nameLocations":["6548:14:51"],"nodeType":"IdentifierPath","referencedDeclaration":39414,"src":"6548:14:51"},"referencedDeclaration":39414,"src":"6548:14:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":39825,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":39823,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39426,"src":"6576:14:51","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$39414_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":39824,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6576:16:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"6548:44:51"},{"assignments":[39827],"declarations":[{"constant":false,"id":39827,"mutability":"mutable","name":"selectorCount","nameLocation":"6610:13:51","nodeType":"VariableDeclaration","scope":39948,"src":"6602:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39826,"name":"uint256","nodeType":"ElementaryTypeName","src":"6602:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":39831,"initialValue":{"expression":{"expression":{"id":39828,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39822,"src":"6626:2:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39829,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6629:9:51","memberName":"selectors","nodeType":"MemberAccess","referencedDeclaration":39407,"src":"6626:12:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":39830,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6639:6:51","memberName":"length","nodeType":"MemberAccess","src":"6626:19:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6602:43:51"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":39837,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39832,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39814,"src":"6659:13:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":39835,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6684:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":39834,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6676:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":39833,"name":"address","nodeType":"ElementaryTypeName","src":"6676:7:51","typeDescriptions":{}}},"id":39836,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6676:10:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6659:27:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39843,"nodeType":"IfStatement","src":"6655:115:51","trueBody":{"id":39842,"nodeType":"Block","src":"6688:82:51","statements":[{"errorCall":{"arguments":[{"id":39839,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39814,"src":"6745:13:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":39838,"name":"RemoveFacetAddressMustBeZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39376,"src":"6709:35:51","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$returns$__$","typeString":"function (address) pure"}},"id":39840,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6709:50:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39841,"nodeType":"RevertStatement","src":"6702:57:51"}]}},{"assignments":[39845],"declarations":[{"constant":false,"id":39845,"mutability":"mutable","name":"fl","nameLocation":"6787:2:51","nodeType":"VariableDeclaration","scope":39948,"src":"6779:10:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39844,"name":"uint256","nodeType":"ElementaryTypeName","src":"6779:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":39848,"initialValue":{"expression":{"id":39846,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39817,"src":"6792:18:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":39847,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6811:6:51","memberName":"length","nodeType":"MemberAccess","src":"6792:25:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6779:38:51"},{"body":{"id":39946,"nodeType":"Block","src":"6892:1287:51","statements":[{"assignments":[39859],"declarations":[{"constant":false,"id":39859,"mutability":"mutable","name":"selector","nameLocation":"6913:8:51","nodeType":"VariableDeclaration","scope":39946,"src":"6906:15:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":39858,"name":"bytes4","nodeType":"ElementaryTypeName","src":"6906:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":39863,"initialValue":{"baseExpression":{"id":39860,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39817,"src":"6924:18:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":39862,"indexExpression":{"id":39861,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39850,"src":"6943:13:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6924:33:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"6906:51:51"},{"assignments":[39866],"declarations":[{"constant":false,"id":39866,"mutability":"mutable","name":"oldFacetAddressAndSelectorPosition","nameLocation":"7010:34:51","nodeType":"VariableDeclaration","scope":39946,"src":"6971:73:51","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39399_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition"},"typeName":{"id":39865,"nodeType":"UserDefinedTypeName","pathNode":{"id":39864,"name":"FacetAddressAndSelectorPosition","nameLocations":["6971:31:51"],"nodeType":"IdentifierPath","referencedDeclaration":39399,"src":"6971:31:51"},"referencedDeclaration":39399,"src":"6971:31:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39399_storage_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition"}},"visibility":"internal"}],"id":39871,"initialValue":{"baseExpression":{"expression":{"id":39867,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39822,"src":"7047:2:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39868,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7067:31:51","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":39404,"src":"7047:51:51","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$39399_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":39870,"indexExpression":{"id":39869,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39859,"src":"7099:8:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7047:61:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39399_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"nodeType":"VariableDeclarationStatement","src":"6971:137:51"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":39878,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":39872,"name":"oldFacetAddressAndSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39866,"src":"7126:34:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39399_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition memory"}},"id":39873,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7161:12:51","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":39396,"src":"7126:47:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":39876,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7185:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":39875,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7177:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":39874,"name":"address","nodeType":"ElementaryTypeName","src":"7177:7:51","typeDescriptions":{}}},"id":39877,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7177:10:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"7126:61:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39884,"nodeType":"IfStatement","src":"7122:153:51","trueBody":{"id":39883,"nodeType":"Block","src":"7189:86:51","statements":[{"errorCall":{"arguments":[{"id":39880,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39859,"src":"7251:8:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":39879,"name":"CannotRemoveFunctionThatDoesNotExist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39380,"src":"7214:36:51","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":39881,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7214:46:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39882,"nodeType":"RevertStatement","src":"7207:53:51"}]}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":39891,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":39885,"name":"oldFacetAddressAndSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39866,"src":"7386:34:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39399_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition memory"}},"id":39886,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7421:12:51","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":39396,"src":"7386:47:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"id":39889,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"7445:4:51","typeDescriptions":{"typeIdentifier":"t_contract$_LibDiamond_$40020","typeString":"library LibDiamond"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_LibDiamond_$40020","typeString":"library LibDiamond"}],"id":39888,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7437:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":39887,"name":"address","nodeType":"ElementaryTypeName","src":"7437:7:51","typeDescriptions":{}}},"id":39890,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7437:13:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"7386:64:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39897,"nodeType":"IfStatement","src":"7382:149:51","trueBody":{"id":39896,"nodeType":"Block","src":"7452:79:51","statements":[{"errorCall":{"arguments":[{"id":39893,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39859,"src":"7507:8:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":39892,"name":"CannotRemoveImmutableFunction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39384,"src":"7477:29:51","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":39894,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7477:39:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39895,"nodeType":"RevertStatement","src":"7470:46:51"}]}},{"expression":{"id":39899,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"--","prefix":true,"src":"7595:15:51","subExpression":{"id":39898,"name":"selectorCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39827,"src":"7597:13:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":39900,"nodeType":"ExpressionStatement","src":"7595:15:51"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":39904,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":39901,"name":"oldFacetAddressAndSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39866,"src":"7628:34:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39399_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition memory"}},"id":39902,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7663:16:51","memberName":"selectorPosition","nodeType":"MemberAccess","referencedDeclaration":39398,"src":"7628:51:51","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":39903,"name":"selectorCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39827,"src":"7683:13:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7628:68:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39932,"nodeType":"IfStatement","src":"7624:412:51","trueBody":{"id":39931,"nodeType":"Block","src":"7698:338:51","statements":[{"assignments":[39906],"declarations":[{"constant":false,"id":39906,"mutability":"mutable","name":"lastSelector","nameLocation":"7723:12:51","nodeType":"VariableDeclaration","scope":39931,"src":"7716:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":39905,"name":"bytes4","nodeType":"ElementaryTypeName","src":"7716:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":39911,"initialValue":{"baseExpression":{"expression":{"id":39907,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39822,"src":"7738:2:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39908,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7741:9:51","memberName":"selectors","nodeType":"MemberAccess","referencedDeclaration":39407,"src":"7738:12:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":39910,"indexExpression":{"id":39909,"name":"selectorCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39827,"src":"7751:13:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7738:27:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"7716:49:51"},{"expression":{"id":39919,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"id":39912,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39822,"src":"7783:2:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39916,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7786:9:51","memberName":"selectors","nodeType":"MemberAccess","referencedDeclaration":39407,"src":"7783:12:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":39917,"indexExpression":{"expression":{"id":39914,"name":"oldFacetAddressAndSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39866,"src":"7796:34:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39399_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition memory"}},"id":39915,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7831:16:51","memberName":"selectorPosition","nodeType":"MemberAccess","referencedDeclaration":39398,"src":"7796:51:51","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"7783:65:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":39918,"name":"lastSelector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39906,"src":"7851:12:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"7783:80:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":39920,"nodeType":"ExpressionStatement","src":"7783:80:51"},{"expression":{"id":39929,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"expression":{"id":39921,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39822,"src":"7881:2:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39924,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7884:31:51","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":39404,"src":"7881:34:51","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$39399_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":39925,"indexExpression":{"id":39923,"name":"lastSelector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39906,"src":"7916:12:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7881:48:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39399_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"id":39926,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"7930:16:51","memberName":"selectorPosition","nodeType":"MemberAccess","referencedDeclaration":39398,"src":"7881:65:51","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":39927,"name":"oldFacetAddressAndSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39866,"src":"7949:34:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39399_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition memory"}},"id":39928,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8005:16:51","memberName":"selectorPosition","nodeType":"MemberAccess","referencedDeclaration":39398,"src":"7949:72:51","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"7881:140:51","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":39930,"nodeType":"ExpressionStatement","src":"7881:140:51"}]}},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"id":39933,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39822,"src":"8085:2:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39936,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8088:9:51","memberName":"selectors","nodeType":"MemberAccess","referencedDeclaration":39407,"src":"8085:12:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":39937,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8098:3:51","memberName":"pop","nodeType":"MemberAccess","src":"8085:16:51","typeDescriptions":{"typeIdentifier":"t_function_arraypop_nonpayable$_t_array$_t_bytes4_$dyn_storage_ptr_$returns$__$attached_to$_t_array$_t_bytes4_$dyn_storage_ptr_$","typeString":"function (bytes4[] storage pointer)"}},"id":39938,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8085:18:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39939,"nodeType":"ExpressionStatement","src":"8085:18:51"},{"expression":{"id":39944,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"delete","prefix":true,"src":"8117:51:51","subExpression":{"baseExpression":{"expression":{"id":39940,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39822,"src":"8124:2:51","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39414_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39941,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8127:31:51","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":39404,"src":"8124:34:51","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$39399_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":39943,"indexExpression":{"id":39942,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39859,"src":"8159:8:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"8124:44:51","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39399_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39945,"nodeType":"ExpressionStatement","src":"8117:51:51"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":39854,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39852,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39850,"src":"6855:13:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":39853,"name":"fl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39845,"src":"6871:2:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6855:18:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39947,"initializationExpression":{"assignments":[39850],"declarations":[{"constant":false,"id":39850,"mutability":"mutable","name":"selectorIndex","nameLocation":"6840:13:51","nodeType":"VariableDeclaration","scope":39947,"src":"6832:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39849,"name":"uint256","nodeType":"ElementaryTypeName","src":"6832:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":39851,"nodeType":"VariableDeclarationStatement","src":"6832:21:51"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":39856,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"6875:15:51","subExpression":{"id":39855,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39850,"src":"6877:13:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":39857,"nodeType":"ExpressionStatement","src":"6875:15:51"},"nodeType":"ForStatement","src":"6827:1352:51"}]},"implemented":true,"kind":"function","modifiers":[],"name":"removeFunctions","nameLocation":"6454:15:51","parameters":{"id":39818,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39814,"mutability":"mutable","name":"_facetAddress","nameLocation":"6478:13:51","nodeType":"VariableDeclaration","scope":39949,"src":"6470:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39813,"name":"address","nodeType":"ElementaryTypeName","src":"6470:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":39817,"mutability":"mutable","name":"_functionSelectors","nameLocation":"6509:18:51","nodeType":"VariableDeclaration","scope":39949,"src":"6493:34:51","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":39815,"name":"bytes4","nodeType":"ElementaryTypeName","src":"6493:6:51","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":39816,"nodeType":"ArrayTypeName","src":"6493:8:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"6469:59:51"},"returnParameters":{"id":39819,"nodeType":"ParameterList","parameters":[],"src":"6538:0:51"},"scope":40020,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":39997,"nodeType":"FunctionDefinition","src":"8191:888:51","nodes":[],"body":{"id":39996,"nodeType":"Block","src":"8269:810:51","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":39961,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39956,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39951,"src":"8283:5:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":39959,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8300:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":39958,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8292:7:51","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":39957,"name":"address","nodeType":"ElementaryTypeName","src":"8292:7:51","typeDescriptions":{}}},"id":39960,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8292:10:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"8283:19:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39964,"nodeType":"IfStatement","src":"8279:56:51","trueBody":{"id":39963,"nodeType":"Block","src":"8304:31:51","statements":[{"functionReturnParameters":39955,"id":39962,"nodeType":"Return","src":"8318:7:51"}]}},{"expression":{"arguments":[{"id":39966,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39951,"src":"8367:5:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"hexValue":"6469616d6f6e644375743a205f696e6974206164647265737320686173206e6f20636f6465","id":39967,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8374:39:51","typeDescriptions":{"typeIdentifier":"t_stringliteral_72db497a72f62bab0025d592feb672a31e8d1a2a1bfe9fa07cc3a061b7217c3c","typeString":"literal_string \"diamondCut: _init address has no code\""},"value":"diamondCut: _init address has no code"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_stringliteral_72db497a72f62bab0025d592feb672a31e8d1a2a1bfe9fa07cc3a061b7217c3c","typeString":"literal_string \"diamondCut: _init address has no code\""}],"id":39965,"name":"enforceHasContractCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40019,"src":"8344:22:51","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,string memory) view"}},"id":39968,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8344:70:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39969,"nodeType":"ExpressionStatement","src":"8344:70:51"},{"assignments":[39971,39973],"declarations":[{"constant":false,"id":39971,"mutability":"mutable","name":"success","nameLocation":"8483:7:51","nodeType":"VariableDeclaration","scope":39996,"src":"8478:12:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":39970,"name":"bool","nodeType":"ElementaryTypeName","src":"8478:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":39973,"mutability":"mutable","name":"error","nameLocation":"8505:5:51","nodeType":"VariableDeclaration","scope":39996,"src":"8492:18:51","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":39972,"name":"bytes","nodeType":"ElementaryTypeName","src":"8492:5:51","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":39978,"initialValue":{"arguments":[{"id":39976,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39953,"src":"8533:9:51","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":39974,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39951,"src":"8514:5:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":39975,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8520:12:51","memberName":"delegatecall","nodeType":"MemberAccess","src":"8514:18:51","typeDescriptions":{"typeIdentifier":"t_function_baredelegatecall_nonpayable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) returns (bool,bytes memory)"}},"id":39977,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8514:29:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"8477:66:51"},{"condition":{"id":39980,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"8603:8:51","subExpression":{"id":39979,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39971,"src":"8604:7:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39995,"nodeType":"IfStatement","src":"8599:474:51","trueBody":{"id":39994,"nodeType":"Block","src":"8613:460:51","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":39984,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":39981,"name":"error","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39973,"src":"8688:5:51","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":39982,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8694:6:51","memberName":"length","nodeType":"MemberAccess","src":"8688:12:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":39983,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8704:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8688:17:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":39992,"nodeType":"Block","src":"8975:88:51","statements":[{"errorCall":{"arguments":[{"id":39988,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39951,"src":"9031:5:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":39989,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39953,"src":"9038:9:51","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":39987,"name":"InitializationFunctionReverted","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39347,"src":"9000:30:51","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,bytes memory) pure"}},"id":39990,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9000:48:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39991,"nodeType":"RevertStatement","src":"8993:55:51"}]},"id":39993,"nodeType":"IfStatement","src":"8684:379:51","trueBody":{"id":39986,"nodeType":"Block","src":"8707:262:51","statements":[{"AST":{"nativeSrc":"8820:135:51","nodeType":"YulBlock","src":"8820:135:51","statements":[{"nativeSrc":"8842:35:51","nodeType":"YulVariableDeclaration","src":"8842:35:51","value":{"arguments":[{"name":"error","nativeSrc":"8871:5:51","nodeType":"YulIdentifier","src":"8871:5:51"}],"functionName":{"name":"mload","nativeSrc":"8865:5:51","nodeType":"YulIdentifier","src":"8865:5:51"},"nativeSrc":"8865:12:51","nodeType":"YulFunctionCall","src":"8865:12:51"},"variables":[{"name":"returndata_size","nativeSrc":"8846:15:51","nodeType":"YulTypedName","src":"8846:15:51","type":""}]},{"expression":{"arguments":[{"arguments":[{"kind":"number","nativeSrc":"8909:2:51","nodeType":"YulLiteral","src":"8909:2:51","type":"","value":"32"},{"name":"error","nativeSrc":"8913:5:51","nodeType":"YulIdentifier","src":"8913:5:51"}],"functionName":{"name":"add","nativeSrc":"8905:3:51","nodeType":"YulIdentifier","src":"8905:3:51"},"nativeSrc":"8905:14:51","nodeType":"YulFunctionCall","src":"8905:14:51"},{"name":"returndata_size","nativeSrc":"8921:15:51","nodeType":"YulIdentifier","src":"8921:15:51"}],"functionName":{"name":"revert","nativeSrc":"8898:6:51","nodeType":"YulIdentifier","src":"8898:6:51"},"nativeSrc":"8898:39:51","nodeType":"YulFunctionCall","src":"8898:39:51"},"nativeSrc":"8898:39:51","nodeType":"YulExpressionStatement","src":"8898:39:51"}]},"documentation":"@solidity memory-safe-assembly","evmVersion":"paris","externalReferences":[{"declaration":39973,"isOffset":false,"isSlot":false,"src":"8871:5:51","valueSize":1},{"declaration":39973,"isOffset":false,"isSlot":false,"src":"8913:5:51","valueSize":1}],"id":39985,"nodeType":"InlineAssembly","src":"8811:144:51"}]}}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"initializeDiamondCut","nameLocation":"8200:20:51","parameters":{"id":39954,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39951,"mutability":"mutable","name":"_init","nameLocation":"8229:5:51","nodeType":"VariableDeclaration","scope":39997,"src":"8221:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39950,"name":"address","nodeType":"ElementaryTypeName","src":"8221:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":39953,"mutability":"mutable","name":"_calldata","nameLocation":"8249:9:51","nodeType":"VariableDeclaration","scope":39997,"src":"8236:22:51","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":39952,"name":"bytes","nodeType":"ElementaryTypeName","src":"8236:5:51","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"8220:39:51"},"returnParameters":{"id":39955,"nodeType":"ParameterList","parameters":[],"src":"8269:0:51"},"scope":40020,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":40019,"nodeType":"FunctionDefinition","src":"9085:320:51","nodes":[],"body":{"id":40018,"nodeType":"Block","src":"9179:226:51","nodes":[],"statements":[{"assignments":[40005],"declarations":[{"constant":false,"id":40005,"mutability":"mutable","name":"contractSize","nameLocation":"9197:12:51","nodeType":"VariableDeclaration","scope":40018,"src":"9189:20:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":40004,"name":"uint256","nodeType":"ElementaryTypeName","src":"9189:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":40006,"nodeType":"VariableDeclarationStatement","src":"9189:20:51"},{"AST":{"nativeSrc":"9228:62:51","nodeType":"YulBlock","src":"9228:62:51","statements":[{"nativeSrc":"9242:38:51","nodeType":"YulAssignment","src":"9242:38:51","value":{"arguments":[{"name":"_contract","nativeSrc":"9270:9:51","nodeType":"YulIdentifier","src":"9270:9:51"}],"functionName":{"name":"extcodesize","nativeSrc":"9258:11:51","nodeType":"YulIdentifier","src":"9258:11:51"},"nativeSrc":"9258:22:51","nodeType":"YulFunctionCall","src":"9258:22:51"},"variableNames":[{"name":"contractSize","nativeSrc":"9242:12:51","nodeType":"YulIdentifier","src":"9242:12:51"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":39999,"isOffset":false,"isSlot":false,"src":"9270:9:51","valueSize":1},{"declaration":40005,"isOffset":false,"isSlot":false,"src":"9242:12:51","valueSize":1}],"id":40007,"nodeType":"InlineAssembly","src":"9219:71:51"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":40010,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":40008,"name":"contractSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40005,"src":"9303:12:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":40009,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9319:1:51","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9303:17:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":40017,"nodeType":"IfStatement","src":"9299:100:51","trueBody":{"id":40016,"nodeType":"Block","src":"9322:77:51","statements":[{"errorCall":{"arguments":[{"id":40012,"name":"_contract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39999,"src":"9363:9:51","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":40013,"name":"_errorMessage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40001,"src":"9374:13:51","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":40011,"name":"NoBytecodeAtAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39323,"src":"9343:19:51","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,string memory) pure"}},"id":40014,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9343:45:51","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40015,"nodeType":"RevertStatement","src":"9336:52:51"}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"enforceHasContractCode","nameLocation":"9094:22:51","parameters":{"id":40002,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39999,"mutability":"mutable","name":"_contract","nameLocation":"9125:9:51","nodeType":"VariableDeclaration","scope":40019,"src":"9117:17:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39998,"name":"address","nodeType":"ElementaryTypeName","src":"9117:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":40001,"mutability":"mutable","name":"_errorMessage","nameLocation":"9150:13:51","nodeType":"VariableDeclaration","scope":40019,"src":"9136:27:51","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":40000,"name":"string","nodeType":"ElementaryTypeName","src":"9136:6:51","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"9116:48:51"},"returnParameters":{"id":40003,"nodeType":"ParameterList","parameters":[],"src":"9179:0:51"},"scope":40020,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"LibDiamond","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"linearizedBaseContracts":[40020],"name":"LibDiamond","nameLocation":"192:10:51","scope":40021,"usedErrors":[39317,39323,39328,39332,39336,39341,39347,39349,39355,39360,39364,39368,39372,39376,39380,39384],"usedEvents":[39394]}],"license":"MIT OR Apache-2.0"},"id":51}