{"abi":[{"type":"function","name":"DIAMOND_STORAGE_POSITION","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"event","name":"DiamondCut","inputs":[{"name":"_diamondCut","type":"tuple[]","indexed":false,"internalType":"struct IDiamond.FacetCut[]","components":[{"name":"facetAddress","type":"address","internalType":"address"},{"name":"action","type":"uint8","internalType":"enum IDiamond.FacetCutAction"},{"name":"functionSelectors","type":"bytes4[]","internalType":"bytes4[]"}]},{"name":"_init","type":"address","indexed":false,"internalType":"address"},{"name":"_calldata","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false},{"type":"error","name":"CannotAddFunctionToDiamondThatAlreadyExists","inputs":[{"name":"_selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"CannotAddSelectorsToZeroAddress","inputs":[{"name":"_selectors","type":"bytes4[]","internalType":"bytes4[]"}]},{"type":"error","name":"CannotRemoveFunctionThatDoesNotExist","inputs":[{"name":"_selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"CannotRemoveImmutableFunction","inputs":[{"name":"_selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"CannotReplaceFunctionThatDoesNotExists","inputs":[{"name":"_selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet","inputs":[{"name":"_selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"CannotReplaceFunctionsFromFacetWithZeroAddress","inputs":[{"name":"_selectors","type":"bytes4[]","internalType":"bytes4[]"}]},{"type":"error","name":"CannotReplaceImmutableFunction","inputs":[{"name":"_selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"IncorrectFacetCutAction","inputs":[{"name":"_action","type":"uint8","internalType":"enum IDiamond.FacetCutAction"}]},{"type":"error","name":"InitializationFunctionReverted","inputs":[{"name":"_initializationContractAddress","type":"address","internalType":"address"},{"name":"_calldata","type":"bytes","internalType":"bytes"}]},{"type":"error","name":"NoBytecodeAtAddress","inputs":[{"name":"_contractAddress","type":"address","internalType":"address"},{"name":"_message","type":"string","internalType":"string"}]},{"type":"error","name":"NoSelectorsGivenToAdd","inputs":[]},{"type":"error","name":"NoSelectorsProvidedForFacetForCut","inputs":[{"name":"_facetAddress","type":"address","internalType":"address"}]},{"type":"error","name":"NotContractOwner","inputs":[{"name":"_user","type":"address","internalType":"address"},{"name":"_contractOwner","type":"address","internalType":"address"}]},{"type":"error","name":"NotOwner","inputs":[]},{"type":"error","name":"RemoveFacetAddressMustBeZeroAddress","inputs":[{"name":"_facetAddress","type":"address","internalType":"address"}]}],"bytecode":{"object":"0x608080604052346018576094908161001e823930815050f35b600080fdfe6080806040526004361015601257600080fd5b60003560e01c63b2bebf5514602657600080fd5b6000366003190112605957807f806e0cbb9fce296bbc336a48f42bf1dbc69722d18d90d6fe705b7582c2bb4bd260209252f35b600080fdfea264697066735822122050ee72dd9a8734fe146632b8d49a3bad4a6185a1593ecf6d71ea9bf7c268947864736f6c63430008130033","sourceMap":"184:9446:55:-:0;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x6080806040526004361015601257600080fd5b60003560e01c63b2bebf5514602657600080fd5b6000366003190112605957807f806e0cbb9fce296bbc336a48f42bf1dbc69722d18d90d6fe705b7582c2bb4bd260209252f35b600080fdfea264697066735822122050ee72dd9a8734fe146632b8d49a3bad4a6185a1593ecf6d71ea9bf7c268947864736f6c63430008130033","sourceMap":"184:9446:55:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;184:9446:55;;;;;260:43;184:9446;;;;;;;","linkReferences":{}},"methodIdentifiers":{"DIAMOND_STORAGE_POSITION()":"b2bebf55"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.19+commit.7dd6d404\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_selector\",\"type\":\"bytes4\"}],\"name\":\"CannotAddFunctionToDiamondThatAlreadyExists\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4[]\",\"name\":\"_selectors\",\"type\":\"bytes4[]\"}],\"name\":\"CannotAddSelectorsToZeroAddress\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_selector\",\"type\":\"bytes4\"}],\"name\":\"CannotRemoveFunctionThatDoesNotExist\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_selector\",\"type\":\"bytes4\"}],\"name\":\"CannotRemoveImmutableFunction\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_selector\",\"type\":\"bytes4\"}],\"name\":\"CannotReplaceFunctionThatDoesNotExists\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_selector\",\"type\":\"bytes4\"}],\"name\":\"CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4[]\",\"name\":\"_selectors\",\"type\":\"bytes4[]\"}],\"name\":\"CannotReplaceFunctionsFromFacetWithZeroAddress\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_selector\",\"type\":\"bytes4\"}],\"name\":\"CannotReplaceImmutableFunction\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"enum IDiamond.FacetCutAction\",\"name\":\"_action\",\"type\":\"uint8\"}],\"name\":\"IncorrectFacetCutAction\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_initializationContractAddress\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"_calldata\",\"type\":\"bytes\"}],\"name\":\"InitializationFunctionReverted\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_contractAddress\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"_message\",\"type\":\"string\"}],\"name\":\"NoBytecodeAtAddress\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NoSelectorsGivenToAdd\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_facetAddress\",\"type\":\"address\"}],\"name\":\"NoSelectorsProvidedForFacetForCut\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_contractOwner\",\"type\":\"address\"}],\"name\":\"NotContractOwner\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_facetAddress\",\"type\":\"address\"}],\"name\":\"RemoveFacetAddressMustBeZeroAddress\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"facetAddress\",\"type\":\"address\"},{\"internalType\":\"enum IDiamond.FacetCutAction\",\"name\":\"action\",\"type\":\"uint8\"},{\"internalType\":\"bytes4[]\",\"name\":\"functionSelectors\",\"type\":\"bytes4[]\"}],\"indexed\":false,\"internalType\":\"struct IDiamond.FacetCut[]\",\"name\":\"_diamondCut\",\"type\":\"tuple[]\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"_init\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"_calldata\",\"type\":\"bytes\"}],\"name\":\"DiamondCut\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"DIAMOND_STORAGE_POSITION\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/lib/LibDiamond.sol\":\"LibDiamond\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=node_modules/@openzeppelin/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":elliptic-curve-solidity/=lib/elliptic-curve-solidity/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":fevmate/=lib/fevmate/contracts/\",\":forge-std/=lib/forge-std/src/\",\":hardhat-deploy/=node_modules/hardhat-deploy/\",\":hardhat/=node_modules/hardhat/\",\":murky/=lib/murky/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/contracts/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\"],\"viaIR\":true},\"sources\":{\"src/interfaces/IDiamond.sol\":{\"keccak256\":\"0x4458466caa842c9f6acc4a52ce32ae61ab705ec64a6a62626dadf7ef1da2c016\",\"license\":\"MIT OR Apache-2.0\",\"urls\":[\"bzz-raw://b5b66a6dee491abf6aceaae603554781c3042c1b9d3f4c65f00a70f293ad07f1\",\"dweb:/ipfs/QmPkArewER2FTp5fZPCG2K2EcRGWq3XhdGdUDhiQbYh1gn\"]},\"src/interfaces/IDiamondCut.sol\":{\"keccak256\":\"0xfce76cbd9e6b2e1db8c16253b2a64640093226a521416fef04de75c8704b0c57\",\"license\":\"MIT OR Apache-2.0\",\"urls\":[\"bzz-raw://5d8532895a516253dda46faa09cdbfbffac55f8d6d83e082bea1479445e73643\",\"dweb:/ipfs/QmfBiFhj5YxBMbTJHiYwztBqtahwkQVhPtyfW8w4t1ZQU4\"]},\"src/lib/LibDiamond.sol\":{\"keccak256\":\"0x4c098d2e50dbee6df459abcdde7fec02c9253bfc11be1af9e4032ae6b5270bfc\",\"license\":\"MIT OR Apache-2.0\",\"urls\":[\"bzz-raw://f4d4f9ae8aa6532731e9871cb88a3e9582fbae32b068cd2a28def34b767c18a6\",\"dweb:/ipfs/QmcQrRUSkiaJtsio3ZmgpxHH8GYNQL3ZwVCX71Vyb6SWTo\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.19+commit.7dd6d404"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"bytes4","name":"_selector","type":"bytes4"}],"type":"error","name":"CannotAddFunctionToDiamondThatAlreadyExists"},{"inputs":[{"internalType":"bytes4[]","name":"_selectors","type":"bytes4[]"}],"type":"error","name":"CannotAddSelectorsToZeroAddress"},{"inputs":[{"internalType":"bytes4","name":"_selector","type":"bytes4"}],"type":"error","name":"CannotRemoveFunctionThatDoesNotExist"},{"inputs":[{"internalType":"bytes4","name":"_selector","type":"bytes4"}],"type":"error","name":"CannotRemoveImmutableFunction"},{"inputs":[{"internalType":"bytes4","name":"_selector","type":"bytes4"}],"type":"error","name":"CannotReplaceFunctionThatDoesNotExists"},{"inputs":[{"internalType":"bytes4","name":"_selector","type":"bytes4"}],"type":"error","name":"CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet"},{"inputs":[{"internalType":"bytes4[]","name":"_selectors","type":"bytes4[]"}],"type":"error","name":"CannotReplaceFunctionsFromFacetWithZeroAddress"},{"inputs":[{"internalType":"bytes4","name":"_selector","type":"bytes4"}],"type":"error","name":"CannotReplaceImmutableFunction"},{"inputs":[{"internalType":"enum IDiamond.FacetCutAction","name":"_action","type":"uint8"}],"type":"error","name":"IncorrectFacetCutAction"},{"inputs":[{"internalType":"address","name":"_initializationContractAddress","type":"address"},{"internalType":"bytes","name":"_calldata","type":"bytes"}],"type":"error","name":"InitializationFunctionReverted"},{"inputs":[{"internalType":"address","name":"_contractAddress","type":"address"},{"internalType":"string","name":"_message","type":"string"}],"type":"error","name":"NoBytecodeAtAddress"},{"inputs":[],"type":"error","name":"NoSelectorsGivenToAdd"},{"inputs":[{"internalType":"address","name":"_facetAddress","type":"address"}],"type":"error","name":"NoSelectorsProvidedForFacetForCut"},{"inputs":[{"internalType":"address","name":"_user","type":"address"},{"internalType":"address","name":"_contractOwner","type":"address"}],"type":"error","name":"NotContractOwner"},{"inputs":[],"type":"error","name":"NotOwner"},{"inputs":[{"internalType":"address","name":"_facetAddress","type":"address"}],"type":"error","name":"RemoveFacetAddressMustBeZeroAddress"},{"inputs":[{"internalType":"struct IDiamond.FacetCut[]","name":"_diamondCut","type":"tuple[]","components":[{"internalType":"address","name":"facetAddress","type":"address"},{"internalType":"enum IDiamond.FacetCutAction","name":"action","type":"uint8"},{"internalType":"bytes4[]","name":"functionSelectors","type":"bytes4[]"}],"indexed":false},{"internalType":"address","name":"_init","type":"address","indexed":false},{"internalType":"bytes","name":"_calldata","type":"bytes","indexed":false}],"type":"event","name":"DiamondCut","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"DIAMOND_STORAGE_POSITION","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@openzeppelin/=node_modules/@openzeppelin/","ds-test/=lib/forge-std/lib/ds-test/src/","elliptic-curve-solidity/=lib/elliptic-curve-solidity/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","fevmate/=lib/fevmate/contracts/","forge-std/=lib/forge-std/src/","hardhat-deploy/=node_modules/hardhat-deploy/","hardhat/=node_modules/hardhat/","murky/=lib/murky/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/contracts/","openzeppelin/=lib/openzeppelin-contracts/contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/lib/LibDiamond.sol":"LibDiamond"},"libraries":{},"viaIR":true},"sources":{"src/interfaces/IDiamond.sol":{"keccak256":"0x4458466caa842c9f6acc4a52ce32ae61ab705ec64a6a62626dadf7ef1da2c016","urls":["bzz-raw://b5b66a6dee491abf6aceaae603554781c3042c1b9d3f4c65f00a70f293ad07f1","dweb:/ipfs/QmPkArewER2FTp5fZPCG2K2EcRGWq3XhdGdUDhiQbYh1gn"],"license":"MIT OR Apache-2.0"},"src/interfaces/IDiamondCut.sol":{"keccak256":"0xfce76cbd9e6b2e1db8c16253b2a64640093226a521416fef04de75c8704b0c57","urls":["bzz-raw://5d8532895a516253dda46faa09cdbfbffac55f8d6d83e082bea1479445e73643","dweb:/ipfs/QmfBiFhj5YxBMbTJHiYwztBqtahwkQVhPtyfW8w4t1ZQU4"],"license":"MIT OR Apache-2.0"},"src/lib/LibDiamond.sol":{"keccak256":"0x4c098d2e50dbee6df459abcdde7fec02c9253bfc11be1af9e4032ae6b5270bfc","urls":["bzz-raw://f4d4f9ae8aa6532731e9871cb88a3e9582fbae32b068cd2a28def34b767c18a6","dweb:/ipfs/QmcQrRUSkiaJtsio3ZmgpxHH8GYNQL3ZwVCX71Vyb6SWTo"],"license":"MIT OR Apache-2.0"}},"version":1},"ast":{"absolutePath":"src/lib/LibDiamond.sol","id":40437,"exportedSymbols":{"IDiamond":[38911],"IDiamondCut":[38930],"LibDiamond":[40436]},"nodeType":"SourceUnit","src":"46:9585:55","nodes":[{"id":39718,"nodeType":"PragmaDirective","src":"46:23:55","nodes":[],"literals":["solidity","0.8",".19"]},{"id":39720,"nodeType":"ImportDirective","src":"71:58:55","nodes":[],"absolutePath":"src/interfaces/IDiamondCut.sol","file":"../interfaces/IDiamondCut.sol","nameLocation":"-1:-1:-1","scope":40437,"sourceUnit":38931,"symbolAliases":[{"foreign":{"id":39719,"name":"IDiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38930,"src":"79:11:55","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":39722,"nodeType":"ImportDirective","src":"130:52:55","nodes":[],"absolutePath":"src/interfaces/IDiamond.sol","file":"../interfaces/IDiamond.sol","nameLocation":"-1:-1:-1","scope":40437,"sourceUnit":38912,"symbolAliases":[{"foreign":{"id":39721,"name":"IDiamond","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38911,"src":"138:8:55","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":40436,"nodeType":"ContractDefinition","src":"184:9446:55","nodes":[{"id":39727,"nodeType":"VariableDeclaration","src":"209:94:55","nodes":[],"constant":true,"functionSelector":"b2bebf55","mutability":"constant","name":"DIAMOND_STORAGE_POSITION","nameLocation":"233:24:55","scope":40436,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39723,"name":"bytes32","nodeType":"ElementaryTypeName","src":"209:7:55","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"arguments":[{"hexValue":"6c69626469616d6f6e642e6c69622e6469616d6f6e642e73746f72616765","id":39725,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"270:32:55","typeDescriptions":{"typeIdentifier":"t_stringliteral_806e0cbb9fce296bbc336a48f42bf1dbc69722d18d90d6fe705b7582c2bb4bd2","typeString":"literal_string \"libdiamond.lib.diamond.storage\""},"value":"libdiamond.lib.diamond.storage"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_806e0cbb9fce296bbc336a48f42bf1dbc69722d18d90d6fe705b7582c2bb4bd2","typeString":"literal_string \"libdiamond.lib.diamond.storage\""}],"id":39724,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"260:9:55","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":39726,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"260:43:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"public"},{"id":39729,"nodeType":"ErrorDefinition","src":"310:17:55","nodes":[],"errorSelector":"30cd7471","name":"NotOwner","nameLocation":"316:8:55","parameters":{"id":39728,"nodeType":"ParameterList","parameters":[],"src":"324:2:55"}},{"id":39735,"nodeType":"ErrorDefinition","src":"332:69:55","nodes":[],"errorSelector":"919834b9","name":"NoBytecodeAtAddress","nameLocation":"338:19:55","parameters":{"id":39734,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39731,"mutability":"mutable","name":"_contractAddress","nameLocation":"366:16:55","nodeType":"VariableDeclaration","scope":39735,"src":"358:24:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39730,"name":"address","nodeType":"ElementaryTypeName","src":"358:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":39733,"mutability":"mutable","name":"_message","nameLocation":"391:8:55","nodeType":"VariableDeclaration","scope":39735,"src":"384:15:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":39732,"name":"string","nodeType":"ElementaryTypeName","src":"384:6:55","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"357:43:55"}},{"id":39740,"nodeType":"ErrorDefinition","src":"406:66:55","nodes":[],"errorSelector":"7fe9a41e","name":"IncorrectFacetCutAction","nameLocation":"412:23:55","parameters":{"id":39739,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39738,"mutability":"mutable","name":"_action","nameLocation":"463:7:55","nodeType":"VariableDeclaration","scope":39740,"src":"436:34:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38891","typeString":"enum IDiamond.FacetCutAction"},"typeName":{"id":39737,"nodeType":"UserDefinedTypeName","pathNode":{"id":39736,"name":"IDiamondCut.FacetCutAction","nameLocations":["436:11:55","448:14:55"],"nodeType":"IdentifierPath","referencedDeclaration":38891,"src":"436:26:55"},"referencedDeclaration":38891,"src":"436:26:55","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38891","typeString":"enum IDiamond.FacetCutAction"}},"visibility":"internal"}],"src":"435:36:55"}},{"id":39744,"nodeType":"ErrorDefinition","src":"477:63:55","nodes":[],"errorSelector":"e767f91f","name":"NoSelectorsProvidedForFacetForCut","nameLocation":"483:33:55","parameters":{"id":39743,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39742,"mutability":"mutable","name":"_facetAddress","nameLocation":"525:13:55","nodeType":"VariableDeclaration","scope":39744,"src":"517:21:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39741,"name":"address","nodeType":"ElementaryTypeName","src":"517:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"516:23:55"}},{"id":39748,"nodeType":"ErrorDefinition","src":"545:68:55","nodes":[],"errorSelector":"ebbf5d07","name":"CannotAddFunctionToDiamondThatAlreadyExists","nameLocation":"551:43:55","parameters":{"id":39747,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39746,"mutability":"mutable","name":"_selector","nameLocation":"602:9:55","nodeType":"VariableDeclaration","scope":39748,"src":"595:16:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":39745,"name":"bytes4","nodeType":"ElementaryTypeName","src":"595:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"594:18:55"}},{"id":39753,"nodeType":"ErrorDefinition","src":"618:59:55","nodes":[],"errorSelector":"0ae3681c","name":"CannotAddSelectorsToZeroAddress","nameLocation":"624:31:55","parameters":{"id":39752,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39751,"mutability":"mutable","name":"_selectors","nameLocation":"665:10:55","nodeType":"VariableDeclaration","scope":39753,"src":"656:19:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":39749,"name":"bytes4","nodeType":"ElementaryTypeName","src":"656:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":39750,"nodeType":"ArrayTypeName","src":"656:8:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"655:21:55"}},{"id":39759,"nodeType":"ErrorDefinition","src":"682:94:55","nodes":[],"errorSelector":"192105d7","name":"InitializationFunctionReverted","nameLocation":"688:30:55","parameters":{"id":39758,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39755,"mutability":"mutable","name":"_initializationContractAddress","nameLocation":"727:30:55","nodeType":"VariableDeclaration","scope":39759,"src":"719:38:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39754,"name":"address","nodeType":"ElementaryTypeName","src":"719:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":39757,"mutability":"mutable","name":"_calldata","nameLocation":"765:9:55","nodeType":"VariableDeclaration","scope":39759,"src":"759:15:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":39756,"name":"bytes","nodeType":"ElementaryTypeName","src":"759:5:55","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"718:57:55"}},{"id":39761,"nodeType":"ErrorDefinition","src":"781:30:55","nodes":[],"errorSelector":"eb6ba048","name":"NoSelectorsGivenToAdd","nameLocation":"787:21:55","parameters":{"id":39760,"nodeType":"ParameterList","parameters":[],"src":"808:2:55"}},{"id":39767,"nodeType":"ErrorDefinition","src":"816:62:55","nodes":[],"errorSelector":"ff4127cb","name":"NotContractOwner","nameLocation":"822:16:55","parameters":{"id":39766,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39763,"mutability":"mutable","name":"_user","nameLocation":"847:5:55","nodeType":"VariableDeclaration","scope":39767,"src":"839:13:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39762,"name":"address","nodeType":"ElementaryTypeName","src":"839:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":39765,"mutability":"mutable","name":"_contractOwner","nameLocation":"862:14:55","nodeType":"VariableDeclaration","scope":39767,"src":"854:22:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39764,"name":"address","nodeType":"ElementaryTypeName","src":"854:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"838:39:55"}},{"id":39772,"nodeType":"ErrorDefinition","src":"883:74:55","nodes":[],"errorSelector":"cd98a96f","name":"CannotReplaceFunctionsFromFacetWithZeroAddress","nameLocation":"889:46:55","parameters":{"id":39771,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39770,"mutability":"mutable","name":"_selectors","nameLocation":"945:10:55","nodeType":"VariableDeclaration","scope":39772,"src":"936:19:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":39768,"name":"bytes4","nodeType":"ElementaryTypeName","src":"936:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":39769,"nodeType":"ArrayTypeName","src":"936:8:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"935:21:55"}},{"id":39776,"nodeType":"ErrorDefinition","src":"962:55:55","nodes":[],"errorSelector":"520300da","name":"CannotReplaceImmutableFunction","nameLocation":"968:30:55","parameters":{"id":39775,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39774,"mutability":"mutable","name":"_selector","nameLocation":"1006:9:55","nodeType":"VariableDeclaration","scope":39776,"src":"999:16:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":39773,"name":"bytes4","nodeType":"ElementaryTypeName","src":"999:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"998:18:55"}},{"id":39780,"nodeType":"ErrorDefinition","src":"1022:81:55","nodes":[],"errorSelector":"358d9d1a","name":"CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet","nameLocation":"1028:56:55","parameters":{"id":39779,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39778,"mutability":"mutable","name":"_selector","nameLocation":"1092:9:55","nodeType":"VariableDeclaration","scope":39780,"src":"1085:16:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":39777,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1085:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"1084:18:55"}},{"id":39784,"nodeType":"ErrorDefinition","src":"1108:63:55","nodes":[],"errorSelector":"7479f939","name":"CannotReplaceFunctionThatDoesNotExists","nameLocation":"1114:38:55","parameters":{"id":39783,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39782,"mutability":"mutable","name":"_selector","nameLocation":"1160:9:55","nodeType":"VariableDeclaration","scope":39784,"src":"1153:16:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":39781,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1153:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"1152:18:55"}},{"id":39788,"nodeType":"ErrorDefinition","src":"1176:65:55","nodes":[],"errorSelector":"d091bc81","name":"RemoveFacetAddressMustBeZeroAddress","nameLocation":"1182:35:55","parameters":{"id":39787,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39786,"mutability":"mutable","name":"_facetAddress","nameLocation":"1226:13:55","nodeType":"VariableDeclaration","scope":39788,"src":"1218:21:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39785,"name":"address","nodeType":"ElementaryTypeName","src":"1218:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1217:23:55"}},{"id":39792,"nodeType":"ErrorDefinition","src":"1246:61:55","nodes":[],"errorSelector":"7a08a22d","name":"CannotRemoveFunctionThatDoesNotExist","nameLocation":"1252:36:55","parameters":{"id":39791,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39790,"mutability":"mutable","name":"_selector","nameLocation":"1296:9:55","nodeType":"VariableDeclaration","scope":39792,"src":"1289:16:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":39789,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1289:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"1288:18:55"}},{"id":39796,"nodeType":"ErrorDefinition","src":"1312:54:55","nodes":[],"errorSelector":"6fafeb08","name":"CannotRemoveImmutableFunction","nameLocation":"1318:29:55","parameters":{"id":39795,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39794,"mutability":"mutable","name":"_selector","nameLocation":"1355:9:55","nodeType":"VariableDeclaration","scope":39796,"src":"1348:16:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":39793,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1348:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"1347:18:55"}},{"id":39806,"nodeType":"EventDefinition","src":"1372:85:55","nodes":[],"anonymous":false,"eventSelector":"8faa70878671ccd212d20771b795c50af8fd3ff6cf27f4bde57e5d4de0aeb673","name":"DiamondCut","nameLocation":"1378:10:55","parameters":{"id":39805,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39800,"indexed":false,"mutability":"mutable","name":"_diamondCut","nameLocation":"1412:11:55","nodeType":"VariableDeclaration","scope":39806,"src":"1389:34:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38900_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut[]"},"typeName":{"baseType":{"id":39798,"nodeType":"UserDefinedTypeName","pathNode":{"id":39797,"name":"IDiamondCut.FacetCut","nameLocations":["1389:11:55","1401:8:55"],"nodeType":"IdentifierPath","referencedDeclaration":38900,"src":"1389:20:55"},"referencedDeclaration":38900,"src":"1389:20:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$38900_storage_ptr","typeString":"struct IDiamond.FacetCut"}},"id":39799,"nodeType":"ArrayTypeName","src":"1389:22:55","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38900_storage_$dyn_storage_ptr","typeString":"struct IDiamond.FacetCut[]"}},"visibility":"internal"},{"constant":false,"id":39802,"indexed":false,"mutability":"mutable","name":"_init","nameLocation":"1433:5:55","nodeType":"VariableDeclaration","scope":39806,"src":"1425:13:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39801,"name":"address","nodeType":"ElementaryTypeName","src":"1425:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":39804,"indexed":false,"mutability":"mutable","name":"_calldata","nameLocation":"1446:9:55","nodeType":"VariableDeclaration","scope":39806,"src":"1440:15:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":39803,"name":"bytes","nodeType":"ElementaryTypeName","src":"1440:5:55","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1388:68:55"}},{"id":39811,"nodeType":"StructDefinition","src":"1463:109:55","nodes":[],"canonicalName":"LibDiamond.FacetAddressAndSelectorPosition","members":[{"constant":false,"id":39808,"mutability":"mutable","name":"facetAddress","nameLocation":"1520:12:55","nodeType":"VariableDeclaration","scope":39811,"src":"1512:20:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39807,"name":"address","nodeType":"ElementaryTypeName","src":"1512:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":39810,"mutability":"mutable","name":"selectorPosition","nameLocation":"1549:16:55","nodeType":"VariableDeclaration","scope":39811,"src":"1542:23:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":39809,"name":"uint16","nodeType":"ElementaryTypeName","src":"1542:6:55","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"name":"FacetAddressAndSelectorPosition","nameLocation":"1470:31:55","scope":40436,"visibility":"public"},{"id":39826,"nodeType":"StructDefinition","src":"1578:353:55","nodes":[],"canonicalName":"LibDiamond.DiamondStorage","members":[{"constant":false,"id":39816,"mutability":"mutable","name":"facetAddressAndSelectorPosition","nameLocation":"1748:31:55","nodeType":"VariableDeclaration","scope":39826,"src":"1697:82:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$39811_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition)"},"typeName":{"id":39815,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":39812,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1705:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Mapping","src":"1697:50:55","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$39811_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":39814,"nodeType":"UserDefinedTypeName","pathNode":{"id":39813,"name":"FacetAddressAndSelectorPosition","nameLocations":["1715:31:55"],"nodeType":"IdentifierPath","referencedDeclaration":39811,"src":"1715:31:55"},"referencedDeclaration":39811,"src":"1715:31:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39811_storage_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition"}}},"visibility":"internal"},{"constant":false,"id":39819,"mutability":"mutable","name":"selectors","nameLocation":"1798:9:55","nodeType":"VariableDeclaration","scope":39826,"src":"1789:18:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":39817,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1789:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":39818,"nodeType":"ArrayTypeName","src":"1789:8:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"},{"constant":false,"id":39823,"mutability":"mutable","name":"supportedInterfaces","nameLocation":"1841:19:55","nodeType":"VariableDeclaration","scope":39826,"src":"1817:43:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_bool_$","typeString":"mapping(bytes4 => bool)"},"typeName":{"id":39822,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":39820,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1825:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Mapping","src":"1817:23:55","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_bool_$","typeString":"mapping(bytes4 => bool)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":39821,"name":"bool","nodeType":"ElementaryTypeName","src":"1835:4:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"visibility":"internal"},{"constant":false,"id":39825,"mutability":"mutable","name":"contractOwner","nameLocation":"1911:13:55","nodeType":"VariableDeclaration","scope":39826,"src":"1903:21:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39824,"name":"address","nodeType":"ElementaryTypeName","src":"1903:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"name":"DiamondStorage","nameLocation":"1585:14:55","scope":40436,"visibility":"public"},{"id":39838,"nodeType":"FunctionDefinition","src":"1937:197:55","nodes":[],"body":{"id":39837,"nodeType":"Block","src":"2013:121:55","nodes":[],"statements":[{"assignments":[39833],"declarations":[{"constant":false,"id":39833,"mutability":"mutable","name":"position","nameLocation":"2031:8:55","nodeType":"VariableDeclaration","scope":39837,"src":"2023:16:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39832,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2023:7:55","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":39835,"initialValue":{"id":39834,"name":"DIAMOND_STORAGE_POSITION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39727,"src":"2042:24:55","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"2023:43:55"},{"AST":{"nodeType":"YulBlock","src":"2085:43:55","statements":[{"nodeType":"YulAssignment","src":"2099:19:55","value":{"name":"position","nodeType":"YulIdentifier","src":"2110:8:55"},"variableNames":[{"name":"ds.slot","nodeType":"YulIdentifier","src":"2099:7:55"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":39830,"isOffset":false,"isSlot":true,"src":"2099:7:55","suffix":"slot","valueSize":1},{"declaration":39833,"isOffset":false,"isSlot":false,"src":"2110:8:55","valueSize":1}],"id":39836,"nodeType":"InlineAssembly","src":"2076:52:55"}]},"implemented":true,"kind":"function","modifiers":[],"name":"diamondStorage","nameLocation":"1946:14:55","parameters":{"id":39827,"nodeType":"ParameterList","parameters":[],"src":"1960:2:55"},"returnParameters":{"id":39831,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39830,"mutability":"mutable","name":"ds","nameLocation":"2009:2:55","nodeType":"VariableDeclaration","scope":39838,"src":"1986:25:55","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":39829,"nodeType":"UserDefinedTypeName","pathNode":{"id":39828,"name":"DiamondStorage","nameLocations":["1986:14:55"],"nodeType":"IdentifierPath","referencedDeclaration":39826,"src":"1986:14:55"},"referencedDeclaration":39826,"src":"1986:14:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"src":"1985:27:55"},"scope":40436,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":39856,"nodeType":"FunctionDefinition","src":"2140:153:55","nodes":[],"body":{"id":39855,"nodeType":"Block","src":"2194:99:55","nodes":[],"statements":[{"assignments":[39845],"declarations":[{"constant":false,"id":39845,"mutability":"mutable","name":"ds","nameLocation":"2227:2:55","nodeType":"VariableDeclaration","scope":39855,"src":"2204:25:55","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":39844,"nodeType":"UserDefinedTypeName","pathNode":{"id":39843,"name":"DiamondStorage","nameLocations":["2204:14:55"],"nodeType":"IdentifierPath","referencedDeclaration":39826,"src":"2204:14:55"},"referencedDeclaration":39826,"src":"2204:14:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":39848,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":39846,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39838,"src":"2232:14:55","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$39826_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":39847,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2232:16:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"2204:44:55"},{"expression":{"id":39853,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":39849,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39845,"src":"2258:2:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39851,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2261:13:55","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":39825,"src":"2258:16:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":39852,"name":"_newOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39840,"src":"2277:9:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2258:28:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":39854,"nodeType":"ExpressionStatement","src":"2258:28:55"}]},"implemented":true,"kind":"function","modifiers":[],"name":"setContractOwner","nameLocation":"2149:16:55","parameters":{"id":39841,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39840,"mutability":"mutable","name":"_newOwner","nameLocation":"2174:9:55","nodeType":"VariableDeclaration","scope":39856,"src":"2166:17:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39839,"name":"address","nodeType":"ElementaryTypeName","src":"2166:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2165:19:55"},"returnParameters":{"id":39842,"nodeType":"ParameterList","parameters":[],"src":"2194:0:55"},"scope":40436,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":39868,"nodeType":"FunctionDefinition","src":"2299:136:55","nodes":[],"body":{"id":39867,"nodeType":"Block","src":"2371:64:55","nodes":[],"statements":[{"expression":{"id":39865,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":39861,"name":"contractOwner_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39859,"src":"2381:14:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":39862,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39838,"src":"2398:14:55","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$39826_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":39863,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2398:16:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39864,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2415:13:55","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":39825,"src":"2398:30:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2381:47:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":39866,"nodeType":"ExpressionStatement","src":"2381:47:55"}]},"implemented":true,"kind":"function","modifiers":[],"name":"contractOwner","nameLocation":"2308:13:55","parameters":{"id":39857,"nodeType":"ParameterList","parameters":[],"src":"2321:2:55"},"returnParameters":{"id":39860,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39859,"mutability":"mutable","name":"contractOwner_","nameLocation":"2355:14:55","nodeType":"VariableDeclaration","scope":39868,"src":"2347:22:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39858,"name":"address","nodeType":"ElementaryTypeName","src":"2347:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2346:24:55"},"scope":40436,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":39883,"nodeType":"ModifierDefinition","src":"2441:140:55","nodes":[],"body":{"id":39882,"nodeType":"Block","src":"2462:119:55","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":39875,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":39870,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2476:3:55","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":39871,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2480:6:55","memberName":"sender","nodeType":"MemberAccess","src":"2476:10:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":39872,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39838,"src":"2490:14:55","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$39826_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":39873,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2490:16:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39874,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2507:13:55","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":39825,"src":"2490:30:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2476:44:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39880,"nodeType":"IfStatement","src":"2472:92:55","trueBody":{"id":39879,"nodeType":"Block","src":"2522:42:55","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":39876,"name":"NotOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39729,"src":"2543:8:55","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":39877,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2543:10:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39878,"nodeType":"RevertStatement","src":"2536:17:55"}]}},{"id":39881,"nodeType":"PlaceholderStatement","src":"2573:1:55"}]},"name":"onlyOwner","nameLocation":"2450:9:55","parameters":{"id":39869,"nodeType":"ParameterList","parameters":[],"src":"2459:2:55"},"virtual":false,"visibility":"internal"},{"id":39898,"nodeType":"FunctionDefinition","src":"2587:156:55","nodes":[],"body":{"id":39897,"nodeType":"Block","src":"2635:108:55","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":39891,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":39886,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2649:3:55","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":39887,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2653:6:55","memberName":"sender","nodeType":"MemberAccess","src":"2649:10:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":39888,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39838,"src":"2663:14:55","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$39826_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":39889,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2663:16:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":39890,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2680:13:55","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":39825,"src":"2663:30:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2649:44:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39896,"nodeType":"IfStatement","src":"2645:92:55","trueBody":{"id":39895,"nodeType":"Block","src":"2695:42:55","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":39892,"name":"NotOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39729,"src":"2716:8:55","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":39893,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2716:10:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39894,"nodeType":"RevertStatement","src":"2709:17:55"}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"enforceIsContractOwner","nameLocation":"2596:22:55","parameters":{"id":39884,"nodeType":"ParameterList","parameters":[],"src":"2618:2:55"},"returnParameters":{"id":39885,"nodeType":"ParameterList","parameters":[],"src":"2635:0:55"},"scope":40436,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":40016,"nodeType":"FunctionDefinition","src":"2749:1291:55","nodes":[],"body":{"id":40015,"nodeType":"Block","src":"2857:1183:55","nodes":[],"statements":[{"assignments":[39910],"declarations":[{"constant":false,"id":39910,"mutability":"mutable","name":"length","nameLocation":"2875:6:55","nodeType":"VariableDeclaration","scope":40015,"src":"2867:14:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39909,"name":"uint256","nodeType":"ElementaryTypeName","src":"2867:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":39913,"initialValue":{"expression":{"id":39911,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39902,"src":"2884:11:55","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38900_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut memory[] memory"}},"id":39912,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2896:6:55","memberName":"length","nodeType":"MemberAccess","src":"2884:18:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2867:35:55"},{"body":{"id":40002,"nodeType":"Block","src":"2960:937:55","statements":[{"assignments":[39924],"declarations":[{"constant":false,"id":39924,"mutability":"mutable","name":"functionSelectors","nameLocation":"2990:17:55","nodeType":"VariableDeclaration","scope":40002,"src":"2974:33:55","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":39922,"name":"bytes4","nodeType":"ElementaryTypeName","src":"2974:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":39923,"nodeType":"ArrayTypeName","src":"2974:8:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"id":39929,"initialValue":{"expression":{"baseExpression":{"id":39925,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39902,"src":"3010:11:55","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38900_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut memory[] memory"}},"id":39927,"indexExpression":{"id":39926,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39915,"src":"3022:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3010:23:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$38900_memory_ptr","typeString":"struct IDiamond.FacetCut memory"}},"id":39928,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3034:17:55","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":38899,"src":"3010:41:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"nodeType":"VariableDeclarationStatement","src":"2974:77:55"},{"assignments":[39931],"declarations":[{"constant":false,"id":39931,"mutability":"mutable","name":"facetAddress","nameLocation":"3073:12:55","nodeType":"VariableDeclaration","scope":40002,"src":"3065:20:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39930,"name":"address","nodeType":"ElementaryTypeName","src":"3065:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":39936,"initialValue":{"expression":{"baseExpression":{"id":39932,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39902,"src":"3088:11:55","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38900_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut memory[] memory"}},"id":39934,"indexExpression":{"id":39933,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39915,"src":"3100:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3088:23:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$38900_memory_ptr","typeString":"struct IDiamond.FacetCut memory"}},"id":39935,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3112:12:55","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":38893,"src":"3088:36:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"3065:59:55"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":39940,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":39937,"name":"functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39924,"src":"3142:17:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":39938,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3160:6:55","memberName":"length","nodeType":"MemberAccess","src":"3142:24:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":39939,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3170:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3142:29:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39946,"nodeType":"IfStatement","src":"3138:122:55","trueBody":{"id":39945,"nodeType":"Block","src":"3173:87:55","statements":[{"errorCall":{"arguments":[{"id":39942,"name":"facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39931,"src":"3232:12:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":39941,"name":"NoSelectorsProvidedForFacetForCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39744,"src":"3198:33:55","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$returns$__$","typeString":"function (address) pure"}},"id":39943,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3198:47:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39944,"nodeType":"RevertStatement","src":"3191:54:55"}]}},{"assignments":[39951],"declarations":[{"constant":false,"id":39951,"mutability":"mutable","name":"action","nameLocation":"3300:6:55","nodeType":"VariableDeclaration","scope":40002,"src":"3273:33:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38891","typeString":"enum IDiamond.FacetCutAction"},"typeName":{"id":39950,"nodeType":"UserDefinedTypeName","pathNode":{"id":39949,"name":"IDiamondCut.FacetCutAction","nameLocations":["3273:11:55","3285:14:55"],"nodeType":"IdentifierPath","referencedDeclaration":38891,"src":"3273:26:55"},"referencedDeclaration":38891,"src":"3273:26:55","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38891","typeString":"enum IDiamond.FacetCutAction"}},"visibility":"internal"}],"id":39956,"initialValue":{"expression":{"baseExpression":{"id":39952,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39902,"src":"3309:11:55","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38900_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut memory[] memory"}},"id":39954,"indexExpression":{"id":39953,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39915,"src":"3321:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3309:23:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$38900_memory_ptr","typeString":"struct IDiamond.FacetCut memory"}},"id":39955,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3333:6:55","memberName":"action","nodeType":"MemberAccess","referencedDeclaration":38896,"src":"3309:30:55","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38891","typeString":"enum IDiamond.FacetCutAction"}},"nodeType":"VariableDeclarationStatement","src":"3273:66:55"},{"condition":{"commonType":{"typeIdentifier":"t_enum$_FacetCutAction_$38891","typeString":"enum IDiamond.FacetCutAction"},"id":39961,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39957,"name":"action","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39951,"src":"3357:6:55","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38891","typeString":"enum IDiamond.FacetCutAction"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":39958,"name":"IDiamond","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38911,"src":"3367:8:55","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDiamond_$38911_$","typeString":"type(contract IDiamond)"}},"id":39959,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3376:14:55","memberName":"FacetCutAction","nodeType":"MemberAccess","referencedDeclaration":38891,"src":"3367:23:55","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_FacetCutAction_$38891_$","typeString":"type(enum IDiamond.FacetCutAction)"}},"id":39960,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3391:3:55","memberName":"Add","nodeType":"MemberAccess","referencedDeclaration":38888,"src":"3367:27:55","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38891","typeString":"enum IDiamond.FacetCutAction"}},"src":"3357:37:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_FacetCutAction_$38891","typeString":"enum IDiamond.FacetCutAction"},"id":39972,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39968,"name":"action","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39951,"src":"3484:6:55","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38891","typeString":"enum IDiamond.FacetCutAction"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":39969,"name":"IDiamond","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38911,"src":"3494:8:55","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDiamond_$38911_$","typeString":"type(contract IDiamond)"}},"id":39970,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3503:14:55","memberName":"FacetCutAction","nodeType":"MemberAccess","referencedDeclaration":38891,"src":"3494:23:55","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_FacetCutAction_$38891_$","typeString":"type(enum IDiamond.FacetCutAction)"}},"id":39971,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3518:7:55","memberName":"Replace","nodeType":"MemberAccess","referencedDeclaration":38889,"src":"3494:31:55","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38891","typeString":"enum IDiamond.FacetCutAction"}},"src":"3484:41:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_FacetCutAction_$38891","typeString":"enum IDiamond.FacetCutAction"},"id":39983,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39979,"name":"action","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39951,"src":"3619:6:55","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38891","typeString":"enum IDiamond.FacetCutAction"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":39980,"name":"IDiamond","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38911,"src":"3629:8:55","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDiamond_$38911_$","typeString":"type(contract IDiamond)"}},"id":39981,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3638:14:55","memberName":"FacetCutAction","nodeType":"MemberAccess","referencedDeclaration":38891,"src":"3629:23:55","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_FacetCutAction_$38891_$","typeString":"type(enum IDiamond.FacetCutAction)"}},"id":39982,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3653:6:55","memberName":"Remove","nodeType":"MemberAccess","referencedDeclaration":38890,"src":"3629:30:55","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38891","typeString":"enum IDiamond.FacetCutAction"}},"src":"3619:40:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":39994,"nodeType":"Block","src":"3748:71:55","statements":[{"errorCall":{"arguments":[{"id":39991,"name":"action","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39951,"src":"3797:6:55","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$38891","typeString":"enum IDiamond.FacetCutAction"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_enum$_FacetCutAction_$38891","typeString":"enum IDiamond.FacetCutAction"}],"id":39990,"name":"IncorrectFacetCutAction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39740,"src":"3773:23:55","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_enum$_FacetCutAction_$38891_$returns$__$","typeString":"function (enum IDiamond.FacetCutAction) pure"}},"id":39992,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3773:31:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39993,"nodeType":"RevertStatement","src":"3766:38:55"}]},"id":39995,"nodeType":"IfStatement","src":"3615:204:55","trueBody":{"id":39989,"nodeType":"Block","src":"3661:81:55","statements":[{"expression":{"arguments":[{"id":39985,"name":"facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39931,"src":"3695:12:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":39986,"name":"functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39924,"src":"3709:17:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":39984,"name":"removeFunctions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40365,"src":"3679:15:55","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (address,bytes4[] memory)"}},"id":39987,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3679:48:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39988,"nodeType":"ExpressionStatement","src":"3679:48:55"}]}},"id":39996,"nodeType":"IfStatement","src":"3480:339:55","trueBody":{"id":39978,"nodeType":"Block","src":"3527:82:55","statements":[{"expression":{"arguments":[{"id":39974,"name":"facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39931,"src":"3562:12:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":39975,"name":"functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39924,"src":"3576:17:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":39973,"name":"replaceFunctions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40227,"src":"3545:16:55","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (address,bytes4[] memory)"}},"id":39976,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3545:49:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39977,"nodeType":"ExpressionStatement","src":"3545:49:55"}]}},"id":39997,"nodeType":"IfStatement","src":"3353:466:55","trueBody":{"id":39967,"nodeType":"Block","src":"3396:78:55","statements":[{"expression":{"arguments":[{"id":39963,"name":"facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39931,"src":"3427:12:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":39964,"name":"functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39924,"src":"3441:17:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":39962,"name":"addFunctions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40122,"src":"3414:12:55","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (address,bytes4[] memory)"}},"id":39965,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3414:45:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39966,"nodeType":"ExpressionStatement","src":"3414:45:55"}]}},{"id":40001,"nodeType":"UncheckedBlock","src":"3832:55:55","statements":[{"expression":{"id":39999,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"3860:12:55","subExpression":{"id":39998,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39915,"src":"3862:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":40000,"nodeType":"ExpressionStatement","src":"3860:12:55"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":39919,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39917,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39915,"src":"2937:10:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":39918,"name":"length","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39910,"src":"2950:6:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2937:19:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":40003,"initializationExpression":{"assignments":[39915],"declarations":[{"constant":false,"id":39915,"mutability":"mutable","name":"facetIndex","nameLocation":"2925:10:55","nodeType":"VariableDeclaration","scope":40003,"src":"2917:18:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39914,"name":"uint256","nodeType":"ElementaryTypeName","src":"2917:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":39916,"nodeType":"VariableDeclarationStatement","src":"2917:18:55"},"nodeType":"ForStatement","src":"2912:985:55"},{"eventCall":{"arguments":[{"id":40005,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39902,"src":"3936:11:55","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38900_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut memory[] memory"}},{"id":40006,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39904,"src":"3956:5:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":40007,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39906,"src":"3974:9:55","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38900_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut memory[] memory"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":40004,"name":"DiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39806,"src":"3911:10:55","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_array$_t_struct$_FacetCut_$38900_memory_ptr_$dyn_memory_ptr_$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (struct IDiamond.FacetCut memory[] memory,address,bytes memory)"}},"id":40008,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":["3923:11:55","3949:5:55","3963:9:55"],"names":["_diamondCut","_init","_calldata"],"nodeType":"FunctionCall","src":"3911:74:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40009,"nodeType":"EmitStatement","src":"3906:79:55"},{"expression":{"arguments":[{"id":40011,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39904,"src":"4016:5:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":40012,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39906,"src":"4023:9:55","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":40010,"name":"initializeDiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40413,"src":"3995:20:55","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,bytes memory)"}},"id":40013,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3995:38:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40014,"nodeType":"ExpressionStatement","src":"3995:38:55"}]},"implemented":true,"kind":"function","modifiers":[],"name":"diamondCut","nameLocation":"2758:10:55","parameters":{"id":39907,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39902,"mutability":"mutable","name":"_diamondCut","nameLocation":"2796:11:55","nodeType":"VariableDeclaration","scope":40016,"src":"2769:38:55","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38900_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamond.FacetCut[]"},"typeName":{"baseType":{"id":39900,"nodeType":"UserDefinedTypeName","pathNode":{"id":39899,"name":"IDiamond.FacetCut","nameLocations":["2769:8:55","2778:8:55"],"nodeType":"IdentifierPath","referencedDeclaration":38900,"src":"2769:17:55"},"referencedDeclaration":38900,"src":"2769:17:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$38900_storage_ptr","typeString":"struct IDiamond.FacetCut"}},"id":39901,"nodeType":"ArrayTypeName","src":"2769:19:55","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$38900_storage_$dyn_storage_ptr","typeString":"struct IDiamond.FacetCut[]"}},"visibility":"internal"},{"constant":false,"id":39904,"mutability":"mutable","name":"_init","nameLocation":"2817:5:55","nodeType":"VariableDeclaration","scope":40016,"src":"2809:13:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39903,"name":"address","nodeType":"ElementaryTypeName","src":"2809:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":39906,"mutability":"mutable","name":"_calldata","nameLocation":"2837:9:55","nodeType":"VariableDeclaration","scope":40016,"src":"2824:22:55","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":39905,"name":"bytes","nodeType":"ElementaryTypeName","src":"2824:5:55","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"2768:79:55"},"returnParameters":{"id":39908,"nodeType":"ParameterList","parameters":[],"src":"2857:0:55"},"scope":40436,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":40122,"nodeType":"FunctionDefinition","src":"4046:1158:55","nodes":[],"body":{"id":40121,"nodeType":"Block","src":"4136:1068:55","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":40029,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":40024,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40018,"src":"4150:13:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":40027,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4175:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":40026,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4167:7:55","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":40025,"name":"address","nodeType":"ElementaryTypeName","src":"4167:7:55","typeDescriptions":{}}},"id":40028,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4167:10:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4150:27:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":40035,"nodeType":"IfStatement","src":"4146:116:55","trueBody":{"id":40034,"nodeType":"Block","src":"4179:83:55","statements":[{"errorCall":{"arguments":[{"id":40031,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40021,"src":"4232:18:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":40030,"name":"CannotAddSelectorsToZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39753,"src":"4200:31:55","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (bytes4[] memory) pure"}},"id":40032,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4200:51:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40033,"nodeType":"RevertStatement","src":"4193:58:55"}]}},{"assignments":[40038],"declarations":[{"constant":false,"id":40038,"mutability":"mutable","name":"ds","nameLocation":"4294:2:55","nodeType":"VariableDeclaration","scope":40121,"src":"4271:25:55","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":40037,"nodeType":"UserDefinedTypeName","pathNode":{"id":40036,"name":"DiamondStorage","nameLocations":["4271:14:55"],"nodeType":"IdentifierPath","referencedDeclaration":39826,"src":"4271:14:55"},"referencedDeclaration":39826,"src":"4271:14:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":40041,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":40039,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39838,"src":"4299:14:55","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$39826_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":40040,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4299:16:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"4271:44:55"},{"assignments":[40043],"declarations":[{"constant":false,"id":40043,"mutability":"mutable","name":"selectorCount","nameLocation":"4332:13:55","nodeType":"VariableDeclaration","scope":40121,"src":"4325:20:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":40042,"name":"uint16","nodeType":"ElementaryTypeName","src":"4325:6:55","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"id":40050,"initialValue":{"arguments":[{"expression":{"expression":{"id":40046,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40038,"src":"4355:2:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":40047,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4358:9:55","memberName":"selectors","nodeType":"MemberAccess","referencedDeclaration":39819,"src":"4355:12:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":40048,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4368:6:55","memberName":"length","nodeType":"MemberAccess","src":"4355:19:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":40045,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4348:6:55","typeDescriptions":{"typeIdentifier":"t_type$_t_uint16_$","typeString":"type(uint16)"},"typeName":{"id":40044,"name":"uint16","nodeType":"ElementaryTypeName","src":"4348:6:55","typeDescriptions":{}}},"id":40049,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4348:27:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"VariableDeclarationStatement","src":"4325:50:55"},{"expression":{"arguments":[{"id":40052,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40018,"src":"4408:13:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"hexValue":"6469616d6f6e644375743a2041646420666163657420686173206e6f20636f6465","id":40053,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4423:35:55","typeDescriptions":{"typeIdentifier":"t_stringliteral_d8d835faff0ba0e4baa5f22169088fa1f85cf7197f0ff5b9c9e823f3d33c8ad7","typeString":"literal_string \"diamondCut: Add facet has no code\""},"value":"diamondCut: Add facet has no code"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_stringliteral_d8d835faff0ba0e4baa5f22169088fa1f85cf7197f0ff5b9c9e823f3d33c8ad7","typeString":"literal_string \"diamondCut: Add facet has no code\""}],"id":40051,"name":"enforceHasContractCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40435,"src":"4385:22:55","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,string memory) view"}},"id":40054,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4385:74:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40055,"nodeType":"ExpressionStatement","src":"4385:74:55"},{"assignments":[40057],"declarations":[{"constant":false,"id":40057,"mutability":"mutable","name":"length","nameLocation":"4477:6:55","nodeType":"VariableDeclaration","scope":40121,"src":"4469:14:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":40056,"name":"uint256","nodeType":"ElementaryTypeName","src":"4469:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":40060,"initialValue":{"expression":{"id":40058,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40021,"src":"4486:18:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":40059,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4505:6:55","memberName":"length","nodeType":"MemberAccess","src":"4486:25:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4469:42:55"},{"body":{"id":40119,"nodeType":"Block","src":"4575:623:55","statements":[{"assignments":[40068],"declarations":[{"constant":false,"id":40068,"mutability":"mutable","name":"selector","nameLocation":"4596:8:55","nodeType":"VariableDeclaration","scope":40119,"src":"4589:15:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":40067,"name":"bytes4","nodeType":"ElementaryTypeName","src":"4589:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":40072,"initialValue":{"baseExpression":{"id":40069,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40021,"src":"4607:18:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":40071,"indexExpression":{"id":40070,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40062,"src":"4626:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4607:33:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"4589:51:55"},{"assignments":[40074],"declarations":[{"constant":false,"id":40074,"mutability":"mutable","name":"oldFacetAddress","nameLocation":"4662:15:55","nodeType":"VariableDeclaration","scope":40119,"src":"4654:23:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":40073,"name":"address","nodeType":"ElementaryTypeName","src":"4654:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":40080,"initialValue":{"expression":{"baseExpression":{"expression":{"id":40075,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40038,"src":"4680:2:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":40076,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4683:31:55","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":39816,"src":"4680:34:55","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$39811_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":40078,"indexExpression":{"id":40077,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40068,"src":"4715:8:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4680:44:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39811_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"id":40079,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4725:12:55","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":39808,"src":"4680:57:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"4654:83:55"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":40086,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":40081,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40074,"src":"4755:15:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":40084,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4782:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":40083,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4774:7:55","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":40082,"name":"address","nodeType":"ElementaryTypeName","src":"4774:7:55","typeDescriptions":{}}},"id":40085,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4774:10:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4755:29:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":40092,"nodeType":"IfStatement","src":"4751:128:55","trueBody":{"id":40091,"nodeType":"Block","src":"4786:93:55","statements":[{"errorCall":{"arguments":[{"id":40088,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40068,"src":"4855:8:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":40087,"name":"CannotAddFunctionToDiamondThatAlreadyExists","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39748,"src":"4811:43:55","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":40089,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4811:53:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40090,"nodeType":"RevertStatement","src":"4804:60:55"}]}},{"expression":{"id":40102,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"id":40093,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40038,"src":"4892:2:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":40096,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4895:31:55","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":39816,"src":"4892:34:55","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$39811_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":40097,"indexExpression":{"id":40095,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40068,"src":"4927:8:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4892:44:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39811_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":40099,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40018,"src":"4988:13:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":40100,"name":"selectorCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40043,"src":"5019:13:55","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint16","typeString":"uint16"}],"id":40098,"name":"FacetAddressAndSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39811,"src":"4939:31:55","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_FacetAddressAndSelectorPosition_$39811_storage_ptr_$","typeString":"type(struct LibDiamond.FacetAddressAndSelectorPosition storage pointer)"}},"id":40101,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4939:107:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39811_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition memory"}},"src":"4892:154:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39811_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"id":40103,"nodeType":"ExpressionStatement","src":"4892:154:55"},{"expression":{"arguments":[{"id":40109,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40068,"src":"5078:8:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"expression":{"expression":{"id":40104,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40038,"src":"5060:2:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":40107,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5063:9:55","memberName":"selectors","nodeType":"MemberAccess","referencedDeclaration":39819,"src":"5060:12:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":40108,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5073:4:55","memberName":"push","nodeType":"MemberAccess","src":"5060:17:55","typeDescriptions":{"typeIdentifier":"t_function_arraypush_nonpayable$_t_array$_t_bytes4_$dyn_storage_ptr_$_t_bytes4_$returns$__$attached_to$_t_array$_t_bytes4_$dyn_storage_ptr_$","typeString":"function (bytes4[] storage pointer,bytes4)"}},"id":40110,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5060:27:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40111,"nodeType":"ExpressionStatement","src":"5060:27:55"},{"expression":{"id":40113,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"5101:15:55","subExpression":{"id":40112,"name":"selectorCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40043,"src":"5103:13:55","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":40114,"nodeType":"ExpressionStatement","src":"5101:15:55"},{"id":40118,"nodeType":"UncheckedBlock","src":"5130:58:55","statements":[{"expression":{"id":40116,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"5158:15:55","subExpression":{"id":40115,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40062,"src":"5160:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":40117,"nodeType":"ExpressionStatement","src":"5158:15:55"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":40066,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":40064,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40062,"src":"4549:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":40065,"name":"length","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40057,"src":"4565:6:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4549:22:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":40120,"initializationExpression":{"assignments":[40062],"declarations":[{"constant":false,"id":40062,"mutability":"mutable","name":"selectorIndex","nameLocation":"4534:13:55","nodeType":"VariableDeclaration","scope":40120,"src":"4526:21:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":40061,"name":"uint256","nodeType":"ElementaryTypeName","src":"4526:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":40063,"nodeType":"VariableDeclarationStatement","src":"4526:21:55"},"nodeType":"ForStatement","src":"4521:677:55"}]},"implemented":true,"kind":"function","modifiers":[],"name":"addFunctions","nameLocation":"4055:12:55","parameters":{"id":40022,"nodeType":"ParameterList","parameters":[{"constant":false,"id":40018,"mutability":"mutable","name":"_facetAddress","nameLocation":"4076:13:55","nodeType":"VariableDeclaration","scope":40122,"src":"4068:21:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":40017,"name":"address","nodeType":"ElementaryTypeName","src":"4068:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":40021,"mutability":"mutable","name":"_functionSelectors","nameLocation":"4107:18:55","nodeType":"VariableDeclaration","scope":40122,"src":"4091:34:55","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":40019,"name":"bytes4","nodeType":"ElementaryTypeName","src":"4091:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":40020,"nodeType":"ArrayTypeName","src":"4091:8:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"4067:59:55"},"returnParameters":{"id":40023,"nodeType":"ParameterList","parameters":[],"src":"4136:0:55"},"scope":40436,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":40227,"nodeType":"FunctionDefinition","src":"5210:1396:55","nodes":[],"body":{"id":40226,"nodeType":"Block","src":"5304:1302:55","nodes":[],"statements":[{"assignments":[40132],"declarations":[{"constant":false,"id":40132,"mutability":"mutable","name":"ds","nameLocation":"5337:2:55","nodeType":"VariableDeclaration","scope":40226,"src":"5314:25:55","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":40131,"nodeType":"UserDefinedTypeName","pathNode":{"id":40130,"name":"DiamondStorage","nameLocations":["5314:14:55"],"nodeType":"IdentifierPath","referencedDeclaration":39826,"src":"5314:14:55"},"referencedDeclaration":39826,"src":"5314:14:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":40135,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":40133,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39838,"src":"5342:14:55","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$39826_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":40134,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5342:16:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"5314:44:55"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":40141,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":40136,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40124,"src":"5372:13:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":40139,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5397:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":40138,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5389:7:55","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":40137,"name":"address","nodeType":"ElementaryTypeName","src":"5389:7:55","typeDescriptions":{}}},"id":40140,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5389:10:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5372:27:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":40147,"nodeType":"IfStatement","src":"5368:131:55","trueBody":{"id":40146,"nodeType":"Block","src":"5401:98:55","statements":[{"errorCall":{"arguments":[{"id":40143,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40127,"src":"5469:18:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":40142,"name":"CannotReplaceFunctionsFromFacetWithZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39772,"src":"5422:46:55","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (bytes4[] memory) pure"}},"id":40144,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5422:66:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40145,"nodeType":"RevertStatement","src":"5415:73:55"}]}},{"expression":{"arguments":[{"id":40149,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40124,"src":"5531:13:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"hexValue":"4c69624469616d6f6e644375743a205265706c61636520666163657420686173206e6f20636f6465","id":40150,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5546:42:55","typeDescriptions":{"typeIdentifier":"t_stringliteral_de246aa8052f872d61bcd9cfb620b8012f8bc6e512400178c0e967944dadacfe","typeString":"literal_string \"LibDiamondCut: Replace facet has no code\""},"value":"LibDiamondCut: Replace facet has no code"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_stringliteral_de246aa8052f872d61bcd9cfb620b8012f8bc6e512400178c0e967944dadacfe","typeString":"literal_string \"LibDiamondCut: Replace facet has no code\""}],"id":40148,"name":"enforceHasContractCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40435,"src":"5508:22:55","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,string memory) view"}},"id":40151,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5508:81:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40152,"nodeType":"ExpressionStatement","src":"5508:81:55"},{"assignments":[40154],"declarations":[{"constant":false,"id":40154,"mutability":"mutable","name":"fl","nameLocation":"5607:2:55","nodeType":"VariableDeclaration","scope":40226,"src":"5599:10:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":40153,"name":"uint256","nodeType":"ElementaryTypeName","src":"5599:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":40157,"initialValue":{"expression":{"id":40155,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40127,"src":"5612:18:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":40156,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5631:6:55","memberName":"length","nodeType":"MemberAccess","src":"5612:25:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5599:38:55"},{"body":{"id":40224,"nodeType":"Block","src":"5697:903:55","statements":[{"assignments":[40165],"declarations":[{"constant":false,"id":40165,"mutability":"mutable","name":"selector","nameLocation":"5718:8:55","nodeType":"VariableDeclaration","scope":40224,"src":"5711:15:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":40164,"name":"bytes4","nodeType":"ElementaryTypeName","src":"5711:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":40169,"initialValue":{"baseExpression":{"id":40166,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40127,"src":"5729:18:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":40168,"indexExpression":{"id":40167,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40159,"src":"5748:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5729:33:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"5711:51:55"},{"assignments":[40171],"declarations":[{"constant":false,"id":40171,"mutability":"mutable","name":"oldFacetAddress","nameLocation":"5784:15:55","nodeType":"VariableDeclaration","scope":40224,"src":"5776:23:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":40170,"name":"address","nodeType":"ElementaryTypeName","src":"5776:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":40177,"initialValue":{"expression":{"baseExpression":{"expression":{"id":40172,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40132,"src":"5802:2:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":40173,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5805:31:55","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":39816,"src":"5802:34:55","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$39811_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":40175,"indexExpression":{"id":40174,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40165,"src":"5837:8:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5802:44:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39811_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"id":40176,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5847:12:55","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":39808,"src":"5802:57:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"5776:83:55"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":40183,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":40178,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40171,"src":"5984:15:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"id":40181,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"6011:4:55","typeDescriptions":{"typeIdentifier":"t_contract$_LibDiamond_$40436","typeString":"library LibDiamond"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_LibDiamond_$40436","typeString":"library LibDiamond"}],"id":40180,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6003:7:55","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":40179,"name":"address","nodeType":"ElementaryTypeName","src":"6003:7:55","typeDescriptions":{}}},"id":40182,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6003:13:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5984:32:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":40189,"nodeType":"IfStatement","src":"5980:118:55","trueBody":{"id":40188,"nodeType":"Block","src":"6018:80:55","statements":[{"errorCall":{"arguments":[{"id":40185,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40165,"src":"6074:8:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":40184,"name":"CannotReplaceImmutableFunction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39776,"src":"6043:30:55","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":40186,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6043:40:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40187,"nodeType":"RevertStatement","src":"6036:47:55"}]}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":40192,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":40190,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40171,"src":"6115:15:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":40191,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40124,"src":"6134:13:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6115:32:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":40198,"nodeType":"IfStatement","src":"6111:144:55","trueBody":{"id":40197,"nodeType":"Block","src":"6149:106:55","statements":[{"errorCall":{"arguments":[{"id":40194,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40165,"src":"6231:8:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":40193,"name":"CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39780,"src":"6174:56:55","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":40195,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6174:66:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40196,"nodeType":"RevertStatement","src":"6167:73:55"}]}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":40204,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":40199,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40171,"src":"6272:15:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":40202,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6299:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":40201,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6291:7:55","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":40200,"name":"address","nodeType":"ElementaryTypeName","src":"6291:7:55","typeDescriptions":{}}},"id":40203,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6291:10:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6272:29:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":40210,"nodeType":"IfStatement","src":"6268:123:55","trueBody":{"id":40209,"nodeType":"Block","src":"6303:88:55","statements":[{"errorCall":{"arguments":[{"id":40206,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40165,"src":"6367:8:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":40205,"name":"CannotReplaceFunctionThatDoesNotExists","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39784,"src":"6328:38:55","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":40207,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6328:48:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40208,"nodeType":"RevertStatement","src":"6321:55:55"}]}},{"expression":{"id":40218,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"expression":{"id":40211,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40132,"src":"6445:2:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":40214,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6448:31:55","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":39816,"src":"6445:34:55","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$39811_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":40215,"indexExpression":{"id":40213,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40165,"src":"6480:8:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6445:44:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39811_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"id":40216,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"6490:12:55","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":39808,"src":"6445:57:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":40217,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40124,"src":"6505:13:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6445:73:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":40219,"nodeType":"ExpressionStatement","src":"6445:73:55"},{"id":40223,"nodeType":"UncheckedBlock","src":"6532:58:55","statements":[{"expression":{"id":40221,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"6560:15:55","subExpression":{"id":40220,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40159,"src":"6562:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":40222,"nodeType":"ExpressionStatement","src":"6560:15:55"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":40163,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":40161,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40159,"src":"5675:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":40162,"name":"fl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40154,"src":"5691:2:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5675:18:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":40225,"initializationExpression":{"assignments":[40159],"declarations":[{"constant":false,"id":40159,"mutability":"mutable","name":"selectorIndex","nameLocation":"5660:13:55","nodeType":"VariableDeclaration","scope":40225,"src":"5652:21:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":40158,"name":"uint256","nodeType":"ElementaryTypeName","src":"5652:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":40160,"nodeType":"VariableDeclarationStatement","src":"5652:21:55"},"nodeType":"ForStatement","src":"5647:953:55"}]},"implemented":true,"kind":"function","modifiers":[],"name":"replaceFunctions","nameLocation":"5219:16:55","parameters":{"id":40128,"nodeType":"ParameterList","parameters":[{"constant":false,"id":40124,"mutability":"mutable","name":"_facetAddress","nameLocation":"5244:13:55","nodeType":"VariableDeclaration","scope":40227,"src":"5236:21:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":40123,"name":"address","nodeType":"ElementaryTypeName","src":"5236:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":40127,"mutability":"mutable","name":"_functionSelectors","nameLocation":"5275:18:55","nodeType":"VariableDeclaration","scope":40227,"src":"5259:34:55","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":40125,"name":"bytes4","nodeType":"ElementaryTypeName","src":"5259:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":40126,"nodeType":"ArrayTypeName","src":"5259:8:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"5235:59:55"},"returnParameters":{"id":40129,"nodeType":"ParameterList","parameters":[],"src":"5304:0:55"},"scope":40436,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":40365,"nodeType":"FunctionDefinition","src":"6612:1796:55","nodes":[],"body":{"id":40364,"nodeType":"Block","src":"6705:1703:55","nodes":[],"statements":[{"assignments":[40237],"declarations":[{"constant":false,"id":40237,"mutability":"mutable","name":"ds","nameLocation":"6738:2:55","nodeType":"VariableDeclaration","scope":40364,"src":"6715:25:55","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":40236,"nodeType":"UserDefinedTypeName","pathNode":{"id":40235,"name":"DiamondStorage","nameLocations":["6715:14:55"],"nodeType":"IdentifierPath","referencedDeclaration":39826,"src":"6715:14:55"},"referencedDeclaration":39826,"src":"6715:14:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":40240,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":40238,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39838,"src":"6743:14:55","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$39826_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":40239,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6743:16:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"6715:44:55"},{"assignments":[40242],"declarations":[{"constant":false,"id":40242,"mutability":"mutable","name":"selectorCount","nameLocation":"6777:13:55","nodeType":"VariableDeclaration","scope":40364,"src":"6769:21:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":40241,"name":"uint256","nodeType":"ElementaryTypeName","src":"6769:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":40246,"initialValue":{"expression":{"expression":{"id":40243,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40237,"src":"6793:2:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":40244,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6796:9:55","memberName":"selectors","nodeType":"MemberAccess","referencedDeclaration":39819,"src":"6793:12:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":40245,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6806:6:55","memberName":"length","nodeType":"MemberAccess","src":"6793:19:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6769:43:55"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":40252,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":40247,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40229,"src":"6826:13:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":40250,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6851:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":40249,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6843:7:55","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":40248,"name":"address","nodeType":"ElementaryTypeName","src":"6843:7:55","typeDescriptions":{}}},"id":40251,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6843:10:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6826:27:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":40258,"nodeType":"IfStatement","src":"6822:115:55","trueBody":{"id":40257,"nodeType":"Block","src":"6855:82:55","statements":[{"errorCall":{"arguments":[{"id":40254,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40229,"src":"6912:13:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":40253,"name":"RemoveFacetAddressMustBeZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39788,"src":"6876:35:55","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$returns$__$","typeString":"function (address) pure"}},"id":40255,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6876:50:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40256,"nodeType":"RevertStatement","src":"6869:57:55"}]}},{"assignments":[40260],"declarations":[{"constant":false,"id":40260,"mutability":"mutable","name":"fl","nameLocation":"6954:2:55","nodeType":"VariableDeclaration","scope":40364,"src":"6946:10:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":40259,"name":"uint256","nodeType":"ElementaryTypeName","src":"6946:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":40263,"initialValue":{"expression":{"id":40261,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40232,"src":"6959:18:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":40262,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6978:6:55","memberName":"length","nodeType":"MemberAccess","src":"6959:25:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6946:38:55"},{"body":{"id":40362,"nodeType":"Block","src":"7044:1358:55","statements":[{"assignments":[40271],"declarations":[{"constant":false,"id":40271,"mutability":"mutable","name":"selector","nameLocation":"7065:8:55","nodeType":"VariableDeclaration","scope":40362,"src":"7058:15:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":40270,"name":"bytes4","nodeType":"ElementaryTypeName","src":"7058:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":40275,"initialValue":{"baseExpression":{"id":40272,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40232,"src":"7076:18:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":40274,"indexExpression":{"id":40273,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40265,"src":"7095:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7076:33:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"7058:51:55"},{"assignments":[40278],"declarations":[{"constant":false,"id":40278,"mutability":"mutable","name":"oldFacetAddressAndSelectorPosition","nameLocation":"7162:34:55","nodeType":"VariableDeclaration","scope":40362,"src":"7123:73:55","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39811_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition"},"typeName":{"id":40277,"nodeType":"UserDefinedTypeName","pathNode":{"id":40276,"name":"FacetAddressAndSelectorPosition","nameLocations":["7123:31:55"],"nodeType":"IdentifierPath","referencedDeclaration":39811,"src":"7123:31:55"},"referencedDeclaration":39811,"src":"7123:31:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39811_storage_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition"}},"visibility":"internal"}],"id":40283,"initialValue":{"baseExpression":{"expression":{"id":40279,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40237,"src":"7199:2:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":40280,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7219:31:55","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":39816,"src":"7199:51:55","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$39811_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":40282,"indexExpression":{"id":40281,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40271,"src":"7251:8:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7199:61:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39811_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"nodeType":"VariableDeclarationStatement","src":"7123:137:55"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":40290,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":40284,"name":"oldFacetAddressAndSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40278,"src":"7278:34:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39811_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition memory"}},"id":40285,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7313:12:55","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":39808,"src":"7278:47:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":40288,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7337:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":40287,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7329:7:55","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":40286,"name":"address","nodeType":"ElementaryTypeName","src":"7329:7:55","typeDescriptions":{}}},"id":40289,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7329:10:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"7278:61:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":40296,"nodeType":"IfStatement","src":"7274:153:55","trueBody":{"id":40295,"nodeType":"Block","src":"7341:86:55","statements":[{"errorCall":{"arguments":[{"id":40292,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40271,"src":"7403:8:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":40291,"name":"CannotRemoveFunctionThatDoesNotExist","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39792,"src":"7366:36:55","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":40293,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7366:46:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40294,"nodeType":"RevertStatement","src":"7359:53:55"}]}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":40303,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":40297,"name":"oldFacetAddressAndSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40278,"src":"7538:34:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39811_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition memory"}},"id":40298,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7573:12:55","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":39808,"src":"7538:47:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"id":40301,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"7597:4:55","typeDescriptions":{"typeIdentifier":"t_contract$_LibDiamond_$40436","typeString":"library LibDiamond"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_LibDiamond_$40436","typeString":"library LibDiamond"}],"id":40300,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7589:7:55","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":40299,"name":"address","nodeType":"ElementaryTypeName","src":"7589:7:55","typeDescriptions":{}}},"id":40302,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7589:13:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"7538:64:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":40309,"nodeType":"IfStatement","src":"7534:149:55","trueBody":{"id":40308,"nodeType":"Block","src":"7604:79:55","statements":[{"errorCall":{"arguments":[{"id":40305,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40271,"src":"7659:8:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":40304,"name":"CannotRemoveImmutableFunction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39796,"src":"7629:29:55","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":40306,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7629:39:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40307,"nodeType":"RevertStatement","src":"7622:46:55"}]}},{"expression":{"id":40311,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"--","prefix":true,"src":"7747:15:55","subExpression":{"id":40310,"name":"selectorCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40242,"src":"7749:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":40312,"nodeType":"ExpressionStatement","src":"7747:15:55"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":40316,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":40313,"name":"oldFacetAddressAndSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40278,"src":"7780:34:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39811_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition memory"}},"id":40314,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7815:16:55","memberName":"selectorPosition","nodeType":"MemberAccess","referencedDeclaration":39810,"src":"7780:51:55","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":40315,"name":"selectorCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40242,"src":"7835:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7780:68:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":40344,"nodeType":"IfStatement","src":"7776:412:55","trueBody":{"id":40343,"nodeType":"Block","src":"7850:338:55","statements":[{"assignments":[40318],"declarations":[{"constant":false,"id":40318,"mutability":"mutable","name":"lastSelector","nameLocation":"7875:12:55","nodeType":"VariableDeclaration","scope":40343,"src":"7868:19:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":40317,"name":"bytes4","nodeType":"ElementaryTypeName","src":"7868:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":40323,"initialValue":{"baseExpression":{"expression":{"id":40319,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40237,"src":"7890:2:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":40320,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7893:9:55","memberName":"selectors","nodeType":"MemberAccess","referencedDeclaration":39819,"src":"7890:12:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":40322,"indexExpression":{"id":40321,"name":"selectorCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40242,"src":"7903:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7890:27:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"7868:49:55"},{"expression":{"id":40331,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"id":40324,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40237,"src":"7935:2:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":40328,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7938:9:55","memberName":"selectors","nodeType":"MemberAccess","referencedDeclaration":39819,"src":"7935:12:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":40329,"indexExpression":{"expression":{"id":40326,"name":"oldFacetAddressAndSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40278,"src":"7948:34:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39811_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition memory"}},"id":40327,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7983:16:55","memberName":"selectorPosition","nodeType":"MemberAccess","referencedDeclaration":39810,"src":"7948:51:55","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"7935:65:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":40330,"name":"lastSelector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40318,"src":"8003:12:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"7935:80:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":40332,"nodeType":"ExpressionStatement","src":"7935:80:55"},{"expression":{"id":40341,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"expression":{"id":40333,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40237,"src":"8033:2:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":40336,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8036:31:55","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":39816,"src":"8033:34:55","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$39811_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":40337,"indexExpression":{"id":40335,"name":"lastSelector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40318,"src":"8068:12:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8033:48:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39811_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"id":40338,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"8082:16:55","memberName":"selectorPosition","nodeType":"MemberAccess","referencedDeclaration":39810,"src":"8033:65:55","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":40339,"name":"oldFacetAddressAndSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40278,"src":"8101:34:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39811_memory_ptr","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition memory"}},"id":40340,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8157:16:55","memberName":"selectorPosition","nodeType":"MemberAccess","referencedDeclaration":39810,"src":"8101:72:55","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"8033:140:55","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":40342,"nodeType":"ExpressionStatement","src":"8033:140:55"}]}},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"id":40345,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40237,"src":"8237:2:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":40348,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8240:9:55","memberName":"selectors","nodeType":"MemberAccess","referencedDeclaration":39819,"src":"8237:12:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":40349,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8250:3:55","memberName":"pop","nodeType":"MemberAccess","src":"8237:16:55","typeDescriptions":{"typeIdentifier":"t_function_arraypop_nonpayable$_t_array$_t_bytes4_$dyn_storage_ptr_$returns$__$attached_to$_t_array$_t_bytes4_$dyn_storage_ptr_$","typeString":"function (bytes4[] storage pointer)"}},"id":40350,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8237:18:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40351,"nodeType":"ExpressionStatement","src":"8237:18:55"},{"expression":{"id":40356,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"delete","prefix":true,"src":"8269:51:55","subExpression":{"baseExpression":{"expression":{"id":40352,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40237,"src":"8276:2:55","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$39826_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":40353,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8279:31:55","memberName":"facetAddressAndSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":39816,"src":"8276:34:55","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndSelectorPosition_$39811_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndSelectorPosition storage ref)"}},"id":40355,"indexExpression":{"id":40354,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40271,"src":"8311:8:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"8276:44:55","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndSelectorPosition_$39811_storage","typeString":"struct LibDiamond.FacetAddressAndSelectorPosition storage ref"}},"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40357,"nodeType":"ExpressionStatement","src":"8269:51:55"},{"id":40361,"nodeType":"UncheckedBlock","src":"8334:58:55","statements":[{"expression":{"id":40359,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"8362:15:55","subExpression":{"id":40358,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40265,"src":"8364:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":40360,"nodeType":"ExpressionStatement","src":"8362:15:55"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":40269,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":40267,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40265,"src":"7022:13:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":40268,"name":"fl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40260,"src":"7038:2:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7022:18:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":40363,"initializationExpression":{"assignments":[40265],"declarations":[{"constant":false,"id":40265,"mutability":"mutable","name":"selectorIndex","nameLocation":"7007:13:55","nodeType":"VariableDeclaration","scope":40363,"src":"6999:21:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":40264,"name":"uint256","nodeType":"ElementaryTypeName","src":"6999:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":40266,"nodeType":"VariableDeclarationStatement","src":"6999:21:55"},"nodeType":"ForStatement","src":"6994:1408:55"}]},"implemented":true,"kind":"function","modifiers":[],"name":"removeFunctions","nameLocation":"6621:15:55","parameters":{"id":40233,"nodeType":"ParameterList","parameters":[{"constant":false,"id":40229,"mutability":"mutable","name":"_facetAddress","nameLocation":"6645:13:55","nodeType":"VariableDeclaration","scope":40365,"src":"6637:21:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":40228,"name":"address","nodeType":"ElementaryTypeName","src":"6637:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":40232,"mutability":"mutable","name":"_functionSelectors","nameLocation":"6676:18:55","nodeType":"VariableDeclaration","scope":40365,"src":"6660:34:55","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":40230,"name":"bytes4","nodeType":"ElementaryTypeName","src":"6660:6:55","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":40231,"nodeType":"ArrayTypeName","src":"6660:8:55","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"6636:59:55"},"returnParameters":{"id":40234,"nodeType":"ParameterList","parameters":[],"src":"6705:0:55"},"scope":40436,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":40413,"nodeType":"FunctionDefinition","src":"8414:888:55","nodes":[],"body":{"id":40412,"nodeType":"Block","src":"8492:810:55","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":40377,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":40372,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40367,"src":"8506:5:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":40375,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8523:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":40374,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8515:7:55","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":40373,"name":"address","nodeType":"ElementaryTypeName","src":"8515:7:55","typeDescriptions":{}}},"id":40376,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8515:10:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"8506:19:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":40380,"nodeType":"IfStatement","src":"8502:56:55","trueBody":{"id":40379,"nodeType":"Block","src":"8527:31:55","statements":[{"functionReturnParameters":40371,"id":40378,"nodeType":"Return","src":"8541:7:55"}]}},{"expression":{"arguments":[{"id":40382,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40367,"src":"8590:5:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"hexValue":"6469616d6f6e644375743a205f696e6974206164647265737320686173206e6f20636f6465","id":40383,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8597:39:55","typeDescriptions":{"typeIdentifier":"t_stringliteral_72db497a72f62bab0025d592feb672a31e8d1a2a1bfe9fa07cc3a061b7217c3c","typeString":"literal_string \"diamondCut: _init address has no code\""},"value":"diamondCut: _init address has no code"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_stringliteral_72db497a72f62bab0025d592feb672a31e8d1a2a1bfe9fa07cc3a061b7217c3c","typeString":"literal_string \"diamondCut: _init address has no code\""}],"id":40381,"name":"enforceHasContractCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40435,"src":"8567:22:55","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,string memory) view"}},"id":40384,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8567:70:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40385,"nodeType":"ExpressionStatement","src":"8567:70:55"},{"assignments":[40387,40389],"declarations":[{"constant":false,"id":40387,"mutability":"mutable","name":"success","nameLocation":"8706:7:55","nodeType":"VariableDeclaration","scope":40412,"src":"8701:12:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":40386,"name":"bool","nodeType":"ElementaryTypeName","src":"8701:4:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":40389,"mutability":"mutable","name":"error","nameLocation":"8728:5:55","nodeType":"VariableDeclaration","scope":40412,"src":"8715:18:55","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":40388,"name":"bytes","nodeType":"ElementaryTypeName","src":"8715:5:55","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":40394,"initialValue":{"arguments":[{"id":40392,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40369,"src":"8756:9:55","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":40390,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40367,"src":"8737:5:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":40391,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8743:12:55","memberName":"delegatecall","nodeType":"MemberAccess","src":"8737:18:55","typeDescriptions":{"typeIdentifier":"t_function_baredelegatecall_nonpayable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) returns (bool,bytes memory)"}},"id":40393,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8737:29:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"8700:66:55"},{"condition":{"id":40396,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"8826:8:55","subExpression":{"id":40395,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40387,"src":"8827:7:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":40411,"nodeType":"IfStatement","src":"8822:474:55","trueBody":{"id":40410,"nodeType":"Block","src":"8836:460:55","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":40400,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":40397,"name":"error","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40389,"src":"8911:5:55","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":40398,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8917:6:55","memberName":"length","nodeType":"MemberAccess","src":"8911:12:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":40399,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8927:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8911:17:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":40408,"nodeType":"Block","src":"9198:88:55","statements":[{"errorCall":{"arguments":[{"id":40404,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40367,"src":"9254:5:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":40405,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40369,"src":"9261:9:55","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":40403,"name":"InitializationFunctionReverted","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39759,"src":"9223:30:55","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,bytes memory) pure"}},"id":40406,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9223:48:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40407,"nodeType":"RevertStatement","src":"9216:55:55"}]},"id":40409,"nodeType":"IfStatement","src":"8907:379:55","trueBody":{"id":40402,"nodeType":"Block","src":"8930:262:55","statements":[{"AST":{"nodeType":"YulBlock","src":"9043:135:55","statements":[{"nodeType":"YulVariableDeclaration","src":"9065:35:55","value":{"arguments":[{"name":"error","nodeType":"YulIdentifier","src":"9094:5:55"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"9088:5:55"},"nodeType":"YulFunctionCall","src":"9088:12:55"},"variables":[{"name":"returndata_size","nodeType":"YulTypedName","src":"9069:15:55","type":""}]},{"expression":{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"9132:2:55","type":"","value":"32"},{"name":"error","nodeType":"YulIdentifier","src":"9136:5:55"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"9128:3:55"},"nodeType":"YulFunctionCall","src":"9128:14:55"},{"name":"returndata_size","nodeType":"YulIdentifier","src":"9144:15:55"}],"functionName":{"name":"revert","nodeType":"YulIdentifier","src":"9121:6:55"},"nodeType":"YulFunctionCall","src":"9121:39:55"},"nodeType":"YulExpressionStatement","src":"9121:39:55"}]},"documentation":"@solidity memory-safe-assembly","evmVersion":"paris","externalReferences":[{"declaration":40389,"isOffset":false,"isSlot":false,"src":"9094:5:55","valueSize":1},{"declaration":40389,"isOffset":false,"isSlot":false,"src":"9136:5:55","valueSize":1}],"id":40401,"nodeType":"InlineAssembly","src":"9034:144:55"}]}}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"initializeDiamondCut","nameLocation":"8423:20:55","parameters":{"id":40370,"nodeType":"ParameterList","parameters":[{"constant":false,"id":40367,"mutability":"mutable","name":"_init","nameLocation":"8452:5:55","nodeType":"VariableDeclaration","scope":40413,"src":"8444:13:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":40366,"name":"address","nodeType":"ElementaryTypeName","src":"8444:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":40369,"mutability":"mutable","name":"_calldata","nameLocation":"8472:9:55","nodeType":"VariableDeclaration","scope":40413,"src":"8459:22:55","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":40368,"name":"bytes","nodeType":"ElementaryTypeName","src":"8459:5:55","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"8443:39:55"},"returnParameters":{"id":40371,"nodeType":"ParameterList","parameters":[],"src":"8492:0:55"},"scope":40436,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":40435,"nodeType":"FunctionDefinition","src":"9308:320:55","nodes":[],"body":{"id":40434,"nodeType":"Block","src":"9402:226:55","nodes":[],"statements":[{"assignments":[40421],"declarations":[{"constant":false,"id":40421,"mutability":"mutable","name":"contractSize","nameLocation":"9420:12:55","nodeType":"VariableDeclaration","scope":40434,"src":"9412:20:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":40420,"name":"uint256","nodeType":"ElementaryTypeName","src":"9412:7:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":40422,"nodeType":"VariableDeclarationStatement","src":"9412:20:55"},{"AST":{"nodeType":"YulBlock","src":"9451:62:55","statements":[{"nodeType":"YulAssignment","src":"9465:38:55","value":{"arguments":[{"name":"_contract","nodeType":"YulIdentifier","src":"9493:9:55"}],"functionName":{"name":"extcodesize","nodeType":"YulIdentifier","src":"9481:11:55"},"nodeType":"YulFunctionCall","src":"9481:22:55"},"variableNames":[{"name":"contractSize","nodeType":"YulIdentifier","src":"9465:12:55"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":40415,"isOffset":false,"isSlot":false,"src":"9493:9:55","valueSize":1},{"declaration":40421,"isOffset":false,"isSlot":false,"src":"9465:12:55","valueSize":1}],"id":40423,"nodeType":"InlineAssembly","src":"9442:71:55"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":40426,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":40424,"name":"contractSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40421,"src":"9526:12:55","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":40425,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9542:1:55","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9526:17:55","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":40433,"nodeType":"IfStatement","src":"9522:100:55","trueBody":{"id":40432,"nodeType":"Block","src":"9545:77:55","statements":[{"errorCall":{"arguments":[{"id":40428,"name":"_contract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40415,"src":"9586:9:55","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":40429,"name":"_errorMessage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40417,"src":"9597:13:55","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":40427,"name":"NoBytecodeAtAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39735,"src":"9566:19:55","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,string memory) pure"}},"id":40430,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9566:45:55","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":40431,"nodeType":"RevertStatement","src":"9559:52:55"}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"enforceHasContractCode","nameLocation":"9317:22:55","parameters":{"id":40418,"nodeType":"ParameterList","parameters":[{"constant":false,"id":40415,"mutability":"mutable","name":"_contract","nameLocation":"9348:9:55","nodeType":"VariableDeclaration","scope":40435,"src":"9340:17:55","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":40414,"name":"address","nodeType":"ElementaryTypeName","src":"9340:7:55","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":40417,"mutability":"mutable","name":"_errorMessage","nameLocation":"9373:13:55","nodeType":"VariableDeclaration","scope":40435,"src":"9359:27:55","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":40416,"name":"string","nodeType":"ElementaryTypeName","src":"9359:6:55","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"9339:48:55"},"returnParameters":{"id":40419,"nodeType":"ParameterList","parameters":[],"src":"9402:0:55"},"scope":40436,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"LibDiamond","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"linearizedBaseContracts":[40436],"name":"LibDiamond","nameLocation":"192:10:55","scope":40437,"usedErrors":[39729,39735,39740,39744,39748,39753,39759,39761,39767,39772,39776,39780,39784,39788,39792,39796]}],"license":"MIT OR Apache-2.0"},"id":55}